{"ast":null,"code":"import _JSON$stringify from \"@babel/runtime-corejs2/core-js/json/stringify\";\nimport _slicedToArray from \"@babel/runtime-corejs2/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\manh nhan\\\\Desktop\\\\data\\\\chat\\\\components\\\\Comment\\\\Comment.tsx\";\nvar __jsx = React.createElement;\nimport React, { useEffect } from \"react\";\nimport TextareaAutosize from \"@material-ui/core/TextareaAutosize\";\nimport Validator from \"../../modules/validator\";\nimport Button from \"@material-ui/core/Button\";\nimport { apolloClient } from \"../../utils\";\nimport { ADD_AD_SELL_LEASE_COMMENT } from \"../../graphql/ad_sell_leases/mutation\";\nimport { GET_COMMENT_BY_AD_SELL_LEASE_ID } from \"../../graphql/comment/queries\";\nimport CommentItem from \"./CommentItem\";\n\nvar CommentCompontent = function CommentCompontent(props) {\n  var _React$useState = React.useState([]),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      dataComment = _React$useState2[0],\n      setDataComment = _React$useState2[1];\n\n  useEffect(function () {\n    var dataFilter = {\n      ad_sell_lease_id: props.dataObject.id\n    };\n\n    var valueString = _JSON$stringify(dataFilter);\n\n    valueString = valueString.split('\"').join(\"'\");\n    apolloClient.query({\n      query: GET_COMMENT_BY_AD_SELL_LEASE_ID,\n      variables: {\n        \"page\": 1,\n        \"limit\": 10,\n        \"filter\": valueString\n      }\n    }).then(function (response) {\n      if (response.data && response.data.adSellLeaseComments && response.data.adSellLeaseComments.edges) {\n        setDataComment(response.data.adSellLeaseComments.edges);\n      }\n    });\n  }, []);\n\n  var handleAddComment = function handleAddComment() {\n    if (commentValue && !Validator.isBlank(commentValue)) {\n      apolloClient.mutate({\n        mutation: ADD_AD_SELL_LEASE_COMMENT,\n        variables: {\n          \"input\": {\n            \"ad_sell_lease_id\": props.dataObject.id,\n            \"content\": commentValue\n          }\n        }\n      }).then(function (response) {\n        setCommentValue(\"\");\n        window.location.reload(false);\n      });\n    }\n  };\n\n  var onChangeTextarea = function onChangeTextarea(event) {\n    setCommentValue(event.target.value);\n  };\n\n  var _React$useState3 = React.useState(''),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      commentValue = _React$useState4[0],\n      setCommentValue = _React$useState4[1];\n\n  return __jsx(\"div\", {\n    className: \"project-info u-margin-content-medium u-margin-top-medium\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71\n    },\n    __self: this\n  }, __jsx(\"h3\", {\n    className: \"project-info-title text-active u-margin-bottom-medium u-margin-top-medium\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }, \"\\xDD ki\\u1EBFn c\\u1EE7a b\\u1EA1n\"), __jsx(\"form\", {\n    className: \"comment\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }, __jsx(TextareaAutosize, {\n    \"aria-label\": \"minimum height\",\n    placeholder: \"Nh\\u1EADp \\xFD ki\\u1EBFn t\\u1EA1i \\u0111\\xE2y\",\n    className: \"comment__textarea\",\n    onChange: function onChange(e) {\n      return onChangeTextarea(e);\n    },\n    value: commentValue,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  }), __jsx(\"div\", {\n    className: 'comment__button__block',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81\n    },\n    __self: this\n  }, __jsx(Button, {\n    className: \"comment__button\",\n    variant: \"outlined\",\n    onClick: function onClick() {\n      return handleAddComment();\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82\n    },\n    __self: this\n  }, \"G\\u1EECI B\\xCCNH LU\\u1EACN\"))), dataComment && dataComment.length > 0 && __jsx(CommentItem, {\n    dataComment: dataComment,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88\n    },\n    __self: this\n  }));\n};\n\nexport default CommentCompontent;","map":{"version":3,"sources":["C:/Users/manh nhan/Desktop/data/chat/components/Comment/Comment.tsx"],"names":["React","useEffect","TextareaAutosize","Validator","Button","apolloClient","ADD_AD_SELL_LEASE_COMMENT","GET_COMMENT_BY_AD_SELL_LEASE_ID","CommentItem","CommentCompontent","props","useState","dataComment","setDataComment","dataFilter","ad_sell_lease_id","dataObject","id","valueString","split","join","query","variables","then","response","data","adSellLeaseComments","edges","handleAddComment","commentValue","isBlank","mutate","mutation","setCommentValue","window","location","reload","onChangeTextarea","event","target","value","e","length"],"mappings":"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","sourcesContent":["import React, {FunctionComponent, useEffect} from \"react\";\r\nimport TextareaAutosize from \"@material-ui/core/TextareaAutosize\";\r\nimport StarIcon from \"@material-ui/icons/Star\";\r\nimport Validator from \"../../modules/validator\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport {AdSellLeaseItem} from '../../interfaces/adSellLeaseItem';\r\nimport {apolloClient} from \"../../utils\";\r\nimport {ADD_AD_SELL_LEASE_COMMENT} from \"../../graphql/ad_sell_leases/mutation\";\r\nimport {GET_COMMENT_BY_AD_SELL_LEASE_ID} from \"../../graphql/comment/queries\";\r\nimport CommentItem from \"./CommentItem\";\r\n\r\ninterface CommentProps {\r\n  dataObject: AdSellLeaseItem,\r\n  type: string\r\n}\r\n\r\ninterface CommentDataProps {\r\n  node: {\r\n    id: string\r\n    content: string\r\n    media: string\r\n    created_at: string\r\n    user: {\r\n      first_name: string\r\n      last_name: string\r\n      avatar: string\r\n    }\r\n  }\r\n}\r\n\r\nconst CommentCompontent: FunctionComponent<CommentProps> = (props: CommentProps) => {\r\n\r\n  const [dataComment, setDataComment] = React.useState<CommentDataProps[]>([]);\r\n\r\n  useEffect(() => {\r\n    let dataFilter = {\r\n      ad_sell_lease_id: props.dataObject.id\r\n    };\r\n    let valueString = JSON.stringify(dataFilter);\r\n    valueString = valueString.split('\"').join(\"'\");\r\n    apolloClient.query({query: GET_COMMENT_BY_AD_SELL_LEASE_ID, variables: {\r\n        \"page\": 1,\r\n        \"limit\": 10,\r\n        \"filter\": valueString\r\n      }}).then(response => {\r\n      if (response.data && response.data.adSellLeaseComments && response.data.adSellLeaseComments.edges) {\r\n        setDataComment(response.data.adSellLeaseComments.edges);\r\n      }\r\n    });\r\n  }, []);\r\n\r\n  const handleAddComment = () => {\r\n    if (commentValue && !Validator.isBlank(commentValue)) {\r\n      apolloClient.mutate({mutation: ADD_AD_SELL_LEASE_COMMENT, variables: {\r\n          \"input\": {\r\n            \"ad_sell_lease_id\": props.dataObject.id,\r\n            \"content\": commentValue\r\n          }\r\n        }}).then((response: any) => {\r\n        setCommentValue(\"\");\r\n        window.location.reload(false);\r\n      });\r\n    }\r\n  };\r\n  const onChangeTextarea = (event: any) => {\r\n    setCommentValue(event.target.value);\r\n  };\r\n\r\n  let [commentValue, setCommentValue] = React.useState<string>('');\r\n  return (\r\n    <div className=\"project-info u-margin-content-medium u-margin-top-medium\">\r\n      <h3 className=\"project-info-title text-active u-margin-bottom-medium u-margin-top-medium\">Ý kiến của bạn</h3>\r\n      <form className=\"comment\">\r\n        <TextareaAutosize\r\n          aria-label=\"minimum height\"\r\n          placeholder=\"Nhập ý kiến tại đây\"\r\n          className=\"comment__textarea\"\r\n          onChange={e => onChangeTextarea(e)}\r\n          value={commentValue}\r\n        />\r\n        <div className={'comment__button__block'}>\r\n          <Button className=\"comment__button\" variant=\"outlined\" onClick={() => handleAddComment()}>GỬI BÌNH LUẬN\r\n          </Button>\r\n        </div>\r\n      </form>\r\n      {\r\n        dataComment && dataComment.length > 0 &&\r\n        <CommentItem dataComment={dataComment}/>\r\n      }\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CommentCompontent;\r\n"]},"metadata":{},"sourceType":"module"}