{"ast":null,"code":"import _extends from \"@babel/runtime-corejs2/helpers/esm/extends\";\nimport _JSON$stringify from \"@babel/runtime-corejs2/core-js/json/stringify\";\nimport _Array$isArray from \"@babel/runtime-corejs2/core-js/array/is-array\";\nimport _slicedToArray from \"@babel/runtime-corejs2/helpers/esm/slicedToArray\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar _jsxFileName = \"C:\\\\Users\\\\manh nhan\\\\Desktop\\\\Nhadatmoi\\\\components\\\\Search\\\\SearchForm.tsx\";\nvar __jsx = React.createElement;\nimport React, { useEffect, useState } from 'react';\nimport { Button, Typography, Popover, ListItem, ListItemText, ListItemIcon, Grow, Paper, Popper, MenuItem, MenuList, Hidden, Grid } from '@material-ui/core';\nimport Link from 'next/link';\nimport ClickAwayListener from '@material-ui/core/ClickAwayListener';\nimport Validator from \"../../modules/validator\";\nimport SearchIcon from '@material-ui/icons/Search';\nimport { localStorageSearch } from \"../../constants\";\nimport { createMuiTheme, ThemeProvider } from '@material-ui/core/styles';\nimport { apolloClient } from \"../../utils\";\nimport { GET_PROJECT_LIST_NAME } from \"../../graphql/project/queries\";\nimport { GET_AD_SELL_LEASES } from \"../../graphql/ad_sell_leases/queries\";\nimport { makeStyles, createStyles } from '@material-ui/core/styles';\nimport EcoIcon from '@material-ui/icons/Eco';\nimport ViewList from '@material-ui/icons/ViewList';\nimport InputBase from \"@material-ui/core/InputBase\";\nimport Router from \"next/router\";\nvar useStyles = makeStyles(function (theme) {\n  var _placementHeaderSearc, _placementHomeSearch;\n\n  return createStyles({\n    root: {\n      display: 'flex'\n    },\n    placementHeaderSearch: (_placementHeaderSearc = {\n      width: \"100%\"\n    }, _defineProperty(_placementHeaderSearc, theme.breakpoints.up('sm'), {\n      marginLeft: \"-40px\"\n    }), _defineProperty(_placementHeaderSearc, theme.breakpoints.down('xs'), {}), _placementHeaderSearc),\n    placementHomeSearch: (_placementHomeSearch = {\n      width: \"100%\",\n      paddingTop: \"12px\",\n      zIndex: 1000\n    }, _defineProperty(_placementHomeSearch, theme.breakpoints.up('lg'), {\n      width: \"calc(100% - 40px)\",\n      marginLeft: \"-200px\"\n    }), _defineProperty(_placementHomeSearch, theme.breakpoints.up('md'), {\n      width: \"calc(100% - 40px)\",\n      marginLeft: \"-200px\"\n    }), _defineProperty(_placementHomeSearch, theme.breakpoints.up('sm'), {\n      width: \"calc(100% - 40px)\",\n      marginLeft: \"-200px\"\n    }), _defineProperty(_placementHomeSearch, theme.breakpoints.down('sm'), {\n      width: \"calc(100% - 40px)\",\n      paddingTop: \"7px\" // marginLeft: \"4px\"\n\n    }), _placementHomeSearch),\n    paper: {\n      marginRight: theme.spacing(2)\n    },\n    fontMenuItem: {\n      fontWeight: 900,\n      fontSize: \"15px\"\n    },\n    positionDelete: {\n      position: \"absolute\",\n      right: \"10px\",\n      color: \"red\",\n      textAlign: \"right\",\n      fontSize: \"14px\"\n    },\n    positionSearchHome: {}\n  });\n});\nvar theme = createMuiTheme({\n  overrides: {\n    MuiMenuItem: {\n      root: {\n        lineHeight: 1,\n        fontSize: \"14px\",\n        minHeight: \"30px\"\n      }\n    }\n  }\n});\nvar projectHot = [{\n  title: \"Vinhomes Central Park\",\n  type: \"/du-an-bat-dong-san\"\n}, {\n  title: \"Vinhomes Grand Park\",\n  type: \"/du-an-bat-dong-san\"\n}, {\n  title: \"Vinhomes Smart City\",\n  type: \"/du-an-bat-dong-san\"\n}, {\n  title: \"Nhà Đất Hải Phòng\",\n  type: \"/nha-dat-ban\"\n}, {\n  title: \"Nhà Đất Hà Nội\",\n  type: \"/nha-dat-ban\"\n}];\nvar historySearch = new Array();\n\nvar MenuListComposition = function MenuListComposition(props) {\n  var classes = useStyles();\n\n  var _useState = useState(false),\n      open = _useState[0],\n      setOpen = _useState[1];\n\n  var _useState2 = useState(\"\"),\n      keywordSearch = _useState2[0],\n      setKeywordSearch = _useState2[1];\n\n  var anchorRef = React.useRef(null);\n\n  var _useState3 = useState(),\n      projectSearch = _useState3[0],\n      setProjectSearch = _useState3[1];\n\n  var _useState4 = useState(),\n      adSellLeasesSearch = _useState4[0],\n      setAdSellLeasesSearch = _useState4[1];\n\n  var _React$useState = React.useState(null),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      anchorElSearchType = _React$useState2[0],\n      setAnchorElSearchType = _React$useState2[1];\n\n  var AD = 'tin-rao';\n  var AD_HOUSING = 'nha-dat-ban';\n  var PROJECT_HOUSING = 'du-an-bat-dong-san';\n  var PROJECT = 'du-an';\n  var dropdownSearch = [{\n    title: 'Dự án',\n    type: PROJECT_HOUSING\n  }, {\n    title: 'Tin rao',\n    type: AD_HOUSING\n  }];\n  var pathProps = props.path;\n  var defaultDropdown = dropdownSearch[0];\n\n  if (pathProps === AD || pathProps === AD_HOUSING) {\n    defaultDropdown = dropdownSearch[1];\n  }\n\n  var _React$useState3 = React.useState(defaultDropdown),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      typeSearch = _React$useState4[0],\n      setTypeSearch = _React$useState4[1];\n\n  var searchHomeBodyTitle = 'Nhà Đất Mới - Giao dịch kiểu mới';\n  var searchHomeBodyDescription = 'Tìm: Nhà riêng, Chung cư, Biệt thự, Đất nền, Đất thổ cư';\n  var searchHomeBodyExample = 'Ví dụ: Hà Nội, Đà Nẵng, Thành Phố Hồ Chí Minh';\n\n  var handleToggle = function handleToggle() {\n    setOpen(function (prevOpen) {\n      return !prevOpen;\n    });\n  };\n\n  function handleListKeyDown(event) {\n    if (event.key === 'Tab') {\n      event.preventDefault();\n      setOpen(false);\n    }\n  }\n\n  var removeLocalSearch = function removeLocalSearch() {\n    localStorage.removeItem(localStorageSearch);\n    setOpen(false);\n    setKeywordSearch(\"\");\n  };\n\n  var _id = open ? 'simple-popover' : undefined;\n\n  var prevOpen = React.useRef(open);\n  useEffect(function () {\n    historySearch = JSON.parse(localStorage.getItem(localStorageSearch));\n    if (!_Array$isArray(historySearch)) historySearch = [];\n\n    if (!Validator.isBlank(localStorage.getItem(localStorageSearch))) {\n      localStorage.setItem(localStorageSearch, _JSON$stringify(historySearch));\n    }\n\n    if (prevOpen.current === true && open === false) {// anchorRef.current.focus();\n    }\n\n    prevOpen.current = open;\n  }, [open]);\n\n  var _onBlur = function onBlur(e) {\n    if (e.target.value) {\n      saveLocalStorege(e);\n    }\n  };\n\n  var handleKeyDownSearch = function handleKeyDownSearch(e) {\n    if (e.key == \"Enter\" || e.keyCode == 13) {\n      saveLocalStorege(e);\n    }\n  };\n\n  var saveLocalStorege = function saveLocalStorege(e) {\n    if (!_Array$isArray(historySearch)) historySearch = [];\n    var checkExist = false;\n    historySearch.map(function (item) {\n      if (item && item.title === e.target.value) {\n        checkExist = true;\n      }\n    });\n\n    if (!checkExist || historySearch.length == 0) {\n      historySearch.unshift({\n        title: e.target.value,\n        type: \"/\".concat(typeSearch.type)\n      });\n    }\n\n    if (historySearch.length >= 4) {\n      historySearch.splice(3, 1);\n    }\n\n    console.log(\"Local Storage\", historySearch);\n    localStorage.setItem(localStorageSearch, _JSON$stringify(historySearch));\n  };\n\n  var onClickSearch = function onClickSearch(title, type) {\n    setKeywordSearch(\"\");\n    setOpen(false);\n    var urlProcess = {\n      pathname: \"\".concat(type),\n      query: {\n        name: title\n      }\n    };\n    var slugAs = \"\".concat(type, \"?name=\") + title;\n    Router.push(urlProcess, slugAs, {\n      shallow: false\n    });\n  };\n\n  var onChangeSearch = function onChangeSearch(e) {\n    if (e.key == \"Enter\" || e.keyCode == 13) {\n      buttonSearch(0, 0);\n    }\n\n    setKeywordSearch(e.target.value);\n    var filterProject = {\n      name: e.target.value\n    };\n    var filterAdSellLeases = {\n      title: e.target.value\n    };\n\n    var dataFilterProject = _JSON$stringify(filterProject);\n\n    var dataFilterAdSellLeases = _JSON$stringify(filterAdSellLeases);\n\n    var limit = pathProps == AD || pathProps == AD_HOUSING || pathProps == PROJECT_HOUSING || pathProps == PROJECT ? 10 : 4; // get tin rao\n\n    if (pathProps == \"\") {\n      limit = 10;\n    }\n\n    if (typeSearch.type == PROJECT || typeSearch.type == PROJECT_HOUSING) {\n      // get du an\n      apolloClient.query({\n        query: GET_PROJECT_LIST_NAME,\n        variables: {\n          \"page\": 1,\n          \"limit\": limit,\n          \"filter\": dataFilterProject\n        }\n      }).then(function (response) {\n        setProjectSearch(response.data.projects.edges);\n      });\n    }\n\n    if (typeSearch.type == AD || typeSearch.type == AD_HOUSING) {\n      // get tin rao\n      apolloClient.query({\n        query: GET_AD_SELL_LEASES,\n        variables: {\n          \"page\": 1,\n          \"limit\": limit,\n          \"filter\": dataFilterAdSellLeases\n        }\n      }).then(function (response) {\n        setAdSellLeasesSearch(response.data.adSellLeases.edges);\n      });\n    }\n  };\n\n  var buttonSearch = function buttonSearch(typeRequest, keySearch) {\n    var key = keywordSearch;\n\n    if (typeof keySearch == \"string\") {\n      key = keySearch;\n    }\n\n    if (typeSearch.type === AD_HOUSING) {\n      var urlProcess = {\n        pathname: '/nha-dat-ban',\n        query: {\n          title: key\n        }\n      };\n      var slugAs = '/nha-dat-ban?title=' + key;\n      Router.push(urlProcess, slugAs, {\n        shallow: false\n      });\n    } else {\n      var _urlProcess = {\n        pathname: '/du-an-bat-dong-san',\n        query: {\n          name: key\n        }\n      };\n\n      var _slugAs = '/du-an-bat-dong-san?name=' + key;\n\n      Router.push(_urlProcess, _slugAs, {\n        shallow: false\n      });\n    }\n  };\n\n  var handleClickSearchType = function handleClickSearchType(event) {\n    setAnchorElSearchType(event.currentTarget);\n  };\n\n  var handleChangeType = function handleChangeType(inputType) {\n    setTypeSearch(inputType);\n    handleCloseSearchType();\n  };\n\n  var handleCloseSearchType = function handleCloseSearchType() {\n    setAnchorElSearchType(null);\n  };\n\n  var onChangeWards = function onChangeWards(event) {\n    setKeywordSearch(event.target.value);\n\n    if (event.key == \"Enter\" || event.keyCode == 13) {\n      buttonSearch(0, 0);\n    }\n  };\n\n  var openSearchType = Boolean(anchorElSearchType);\n  var converProject = new Array();\n  var convetAdSellLeases = new Array();\n\n  if (_Array$isArray(projectSearch)) {\n    projectSearch.map(function (item) {\n      converProject.push({\n        title: item.node.name,\n        type: \"/du-an-bat-dong-san\"\n      });\n    });\n  }\n\n  if (_Array$isArray(adSellLeasesSearch)) {\n    adSellLeasesSearch.map(function (item) {\n      convetAdSellLeases.push({\n        title: item.node.title,\n        type: \"/nha-dat-ban\"\n      });\n    });\n  }\n\n  var renderNewSearch = typeSearch.type == AD || typeSearch.type == AD_HOUSING ? __jsx(React.Fragment, null, __jsx(MenuList, {\n    id: \"menu-list-grow\",\n    onKeyDown: handleListKeyDown,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 310\n    },\n    __self: this\n  }, __jsx(MenuItem, {\n    key: \"tinrao\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 311\n    },\n    __self: this\n  }, __jsx(Typography, {\n    className: classes.fontMenuItem,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 311\n    },\n    __self: this\n  }, \"TIN RAO\")), convetAdSellLeases.map(function (item, index) {\n    return __jsx(MenuItem, {\n      key: index,\n      onClick: function onClick() {\n        return onClickSearch(item.title, item.type);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 313\n      },\n      __self: this\n    }, item.title);\n  }))) : typeSearch.type == PROJECT || typeSearch.type == PROJECT_HOUSING ? __jsx(MenuList, {\n    id: \"menu-list-grow\",\n    onKeyDown: handleListKeyDown,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 319\n    },\n    __self: this\n  }, __jsx(MenuItem, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 320\n    },\n    __self: this\n  }, __jsx(Typography, {\n    className: classes.fontMenuItem,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 320\n    },\n    __self: this\n  }, \"D\\u1EF0 \\xC1N\")), converProject.map(function (item, index) {\n    return __jsx(MenuItem, {\n      key: index,\n      onClick: function onClick() {\n        return onClickSearch(item.title, item.type);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 322\n      },\n      __self: this\n    }, item.title);\n  })) : __jsx(MenuList, {\n    id: \"menu-list-grow\",\n    onKeyDown: handleListKeyDown,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 324\n    },\n    __self: this\n  }, __jsx(MenuItem, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 325\n    },\n    __self: this\n  }, __jsx(Typography, {\n    className: classes.fontMenuItem,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 325\n    },\n    __self: this\n  }, \"TIN RAO\")), convetAdSellLeases.map(function (item, index) {\n    return __jsx(MenuItem, {\n      key: index,\n      onClick: function onClick() {\n        return onClickSearch(item.title, item.type);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 327\n      },\n      __self: this\n    }, item.title);\n  }), __jsx(MenuItem, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 329\n    },\n    __self: this\n  }, __jsx(Typography, {\n    className: classes.fontMenuItem,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 329\n    },\n    __self: this\n  }, \"D\\u1EF0 \\xC1N\")), converProject.map(function (item, index) {\n    return __jsx(MenuItem, {\n      key: index,\n      onClick: function onClick() {\n        return onClickSearch(item.title, item.type);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 331\n      },\n      __self: this\n    }, item.title);\n  }));\n  var renderHot = projectHot.map(function (item, index) {\n    return __jsx(MenuItem, {\n      key: index,\n      onClick: function onClick() {\n        return onClickSearch(item.title, item.type);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 336\n      },\n      __self: this\n    }, __jsx(Link, {\n      href: \"\".concat(item.type),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 337\n      },\n      __self: this\n    }, __jsx(\"a\", {\n      style: {\n        color: \"black\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 337\n      },\n      __self: this\n    }, item.title)));\n  });\n  var renderHistory = historySearch.map(function (item, index) {\n    return __jsx(MenuItem, {\n      key: index + 10,\n      onClick: function onClick() {\n        return onClickSearch(item.title, item.type);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 341\n      },\n      __self: this\n    }, item.title);\n  });\n\n  var renderHotHistory = __jsx(MenuList, {\n    id: \"menu-list-grow\",\n    onKeyDown: handleListKeyDown,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 345\n    },\n    __self: this\n  }, __jsx(MenuItem, {\n    key: \"tukhoahot\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 346\n    },\n    __self: this\n  }, \" \", __jsx(Typography, {\n    className: classes.fontMenuItem,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 346\n    },\n    __self: this\n  }, \"T\\u1EEA KH\\xD3A HOT\")), renderHot, __jsx(MenuItem, {\n    key: \"lichsutimkiem\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 348\n    },\n    __self: this\n  }, __jsx(Typography, {\n    className: classes.fontMenuItem,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 349\n    },\n    __self: this\n  }, \"L\\u1ECACH S\\u1EEC T\\xCCM KI\\u1EBEM\"), __jsx(Typography, {\n    className: classes.positionDelete,\n    onClick: removeLocalSearch,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 350\n    },\n    __self: this\n  }, \"X\\xF3a\")), renderHistory);\n\n  var renderSearchHeader = __jsx(React.Fragment, null, __jsx(\"div\", {\n    className: \"header__center__search__icon\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 356\n    },\n    __self: this\n  }, __jsx(\"svg\", {\n    viewBox: \"0 0 512 512\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 357\n    },\n    __self: this\n  }, __jsx(\"path\", {\n    d: \"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 358\n    },\n    __self: this\n  }))), __jsx(\"div\", {\n    className: \"header__center__search__box\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 361\n    },\n    __self: this\n  }, __jsx(InputBase, {\n    fullWidth: true,\n    placeholder: \"T\\xECm ki\\u1EBFm ... \",\n    defaultValue: keywordSearch // value={keywordSearch}\n    ,\n    onKeyDown: handleKeyDownSearch,\n    autoComplete: \"off\",\n    ref: anchorRef,\n    onChange: function onChange(e) {\n      return onChangeSearch(e);\n    },\n    onBlur: function onBlur(e) {\n      return _onBlur(e);\n    },\n    onClick: handleToggle,\n    onKeyUp: function onKeyUp(e) {\n      return onChangeWards(e);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 362\n    },\n    __self: this\n  })), __jsx(\"div\", {\n    className: \"header__center__search__type\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 376\n    },\n    __self: this\n  }, __jsx(Button, {\n    onClick: handleClickSearchType,\n    \"aria-describedby\": _id,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 377\n    },\n    __self: this\n  }, __jsx(\"svg\", {\n    viewBox: \"0 0 320 512\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 381\n    },\n    __self: this\n  }, __jsx(\"path\", {\n    d: \"M143 352.3L7 216.3c-9.4-9.4-9.4-24.6 0-33.9l22.6-22.6c9.4-9.4 24.6-9.4 33.9 0l96.4 96.4 96.4-96.4c9.4-9.4 24.6-9.4 33.9 0l22.6 22.6c9.4 9.4 9.4 24.6 0 33.9l-136 136c-9.2 9.4-24.4 9.4-33.8 0z\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 382\n    },\n    __self: this\n  })), typeSearch.title), __jsx(Popover, {\n    id: _id,\n    open: openSearchType,\n    anchorEl: anchorElSearchType,\n    onClose: handleCloseSearchType,\n    anchorOrigin: {\n      vertical: 'bottom',\n      horizontal: 'center'\n    },\n    transformOrigin: {\n      vertical: 'top',\n      horizontal: 'center'\n    },\n    className: \"header__center__search__type__popup\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 386\n    },\n    __self: this\n  }, __jsx(Typography, {\n    component: 'span',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 401\n    },\n    __self: this\n  }, __jsx(ListItem, {\n    button: true,\n    onClick: function onClick(event) {\n      return handleChangeType(dropdownSearch[0]);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 402\n    },\n    __self: this\n  }, __jsx(ListItemIcon, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 403\n    },\n    __self: this\n  }, __jsx(EcoIcon, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 403\n    },\n    __self: this\n  })), __jsx(ListItemText, {\n    primary: dropdownSearch[0].title,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 404\n    },\n    __self: this\n  })), __jsx(ListItem, {\n    button: true,\n    onClick: function onClick(event) {\n      return handleChangeType(dropdownSearch[1]);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 406\n    },\n    __self: this\n  }, __jsx(ListItemIcon, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 407\n    },\n    __self: this\n  }, __jsx(ViewList, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 407\n    },\n    __self: this\n  })), __jsx(ListItemText, {\n    primary: dropdownSearch[1].title,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 408\n    },\n    __self: this\n  }))))), __jsx(Button, {\n    variant: \"outlined\",\n    onClick: function onClick() {\n      return buttonSearch(0, 0);\n    },\n    className: \"header__center__search__button\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 413\n    },\n    __self: this\n  }, __jsx(\"svg\", {\n    viewBox: \"0 0 512 512\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 414\n    },\n    __self: this\n  }, __jsx(\"path\", {\n    d: \"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 415\n    },\n    __self: this\n  }))));\n\n  var renderSearchHome = __jsx(React.Fragment, null, __jsx(Hidden, {\n    xsDown: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 422\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    className: \"search_homepage__body__box__select\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 423\n    },\n    __self: this\n  }, __jsx(Button, {\n    onClick: handleClickSearchType,\n    \"aria-describedby\": _id,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 424\n    },\n    __self: this\n  }, typeSearch.title, __jsx(\"svg\", {\n    viewBox: \"0 0 320 512\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 425\n    },\n    __self: this\n  }, __jsx(\"path\", {\n    d: \"M143 352.3L7 216.3c-9.4-9.4-9.4-24.6 0-33.9l22.6-22.6c9.4-9.4 24.6-9.4 33.9 0l96.4 96.4 96.4-96.4c9.4-9.4 24.6-9.4 33.9 0l22.6 22.6c9.4 9.4 9.4 24.6 0 33.9l-136 136c-9.2 9.4-24.4 9.4-33.8 0z\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 426\n    },\n    __self: this\n  }))), __jsx(Popover, {\n    id: _id,\n    open: openSearchType,\n    anchorEl: anchorElSearchType,\n    onClose: handleCloseSearchType,\n    anchorOrigin: {\n      vertical: 'bottom',\n      horizontal: 'center'\n    },\n    transformOrigin: {\n      vertical: 'top',\n      horizontal: 'center'\n    },\n    className: \"search_homepage__body__box__select__popup\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 429\n    },\n    __self: this\n  }, __jsx(Typography, {\n    component: 'span',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 444\n    },\n    __self: this\n  }, __jsx(ListItem, {\n    button: true,\n    onClick: function onClick(event) {\n      return handleChangeType(dropdownSearch[0]);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 445\n    },\n    __self: this\n  }, __jsx(ListItemIcon, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 446\n    },\n    __self: this\n  }, __jsx(EcoIcon, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 446\n    },\n    __self: this\n  })), __jsx(ListItemText, {\n    primary: dropdownSearch[0].title,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 447\n    },\n    __self: this\n  })), __jsx(ListItem, {\n    button: true,\n    onClick: function onClick(event) {\n      return handleChangeType(dropdownSearch[1]);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 449\n    },\n    __self: this\n  }, __jsx(ListItemIcon, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 450\n    },\n    __self: this\n  }, __jsx(ViewList, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 450\n    },\n    __self: this\n  })), __jsx(ListItemText, {\n    primary: dropdownSearch[1].title,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 451\n    },\n    __self: this\n  })))))), __jsx(\"div\", {\n    className: \"search_homepage__body_box_input\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 457\n    },\n    __self: this\n  }, __jsx(InputBase, {\n    fullWidth: true,\n    placeholder: \"Nh\\u1EADp th\\xF4ng tin t\\xECm ki\\u1EBFm ... \",\n    className: \"search_homepage__body_box_input_base\",\n    defaultValue: keywordSearch,\n    autoComplete: \"off\",\n    ref: anchorRef,\n    onChange: function onChange(e) {\n      return onChangeSearch(e);\n    },\n    onBlur: function onBlur(e) {\n      return _onBlur(e);\n    },\n    onClick: handleToggle,\n    onKeyUp: function onKeyUp(e) {\n      return onChangeWards(e);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 458\n    },\n    __self: this\n  })), __jsx(Button, {\n    variant: \"outlined\",\n    onClick: function onClick() {\n      return buttonSearch(0, 0);\n    },\n    className: \"search_homepage__body_box_button\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 471\n    },\n    __self: this\n  }, __jsx(SearchIcon, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 472\n    },\n    __self: this\n  })));\n\n  var renderTest = function renderTest() {\n    return __jsx(Grid, {\n      container: true,\n      spacing: 0,\n      item: true,\n      xs: 12,\n      className: \"search_homepage__banner\",\n      style: {\n        backgroundImage: 'url(' + backgroundUrl + ')'\n      },\n      direction: \"row\",\n      justify: \"center\",\n      alignItems: \"center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 479\n      },\n      __self: this\n    }, __jsx(Grid, {\n      item: true,\n      xs: true,\n      className: \"search_homepage__body\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 485\n      },\n      __self: this\n    }, __jsx(\"div\", {\n      className: \"search_homepage__body_title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 486\n      },\n      __self: this\n    }, searchHomeBodyTitle), __jsx(\"div\", {\n      className: \"search_homepage__body_description\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 487\n      },\n      __self: this\n    }, searchHomeBodyDescription), __jsx(\"div\", {\n      className: \"search_homepage__body__box\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 488\n      },\n      __self: this\n    }, __jsx(SearchForm, {\n      path: \"\",\n      searchLocation: \"home\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 489\n      },\n      __self: this\n    })), __jsx(\"div\", {\n      className: \"search_homepage__body_example\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 492\n      },\n      __self: this\n    }, searchHomeBodyExample)));\n  };\n\n  return __jsx(\"div\", {\n    className: classes.root,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 500\n    },\n    __self: this\n  }, __jsx(ThemeProvider, {\n    theme: theme,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 501\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    style: {\n      minHeight: '30px'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 502\n    },\n    __self: this\n  }, props.searchLocation == 'header' ? renderSearchHeader : renderSearchHome), __jsx(Popper, {\n    className: props.searchLocation == 'header' ? classes.placementHeaderSearch : classes.placementHomeSearch,\n    placement: \"bottom-start\",\n    open: open,\n    anchorEl: anchorRef.current,\n    role: undefined,\n    transition: true,\n    disablePortal: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 507\n    },\n    __self: this\n  }, function (_ref) {\n    var TransitionProps = _ref.TransitionProps,\n        placement = _ref.placement;\n    return __jsx(Grow, _extends({}, TransitionProps, {\n      style: {\n        transformOrigin: placement === 'bottom' ? 'left top' : 'center bottom'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 517\n      },\n      __self: this\n    }), __jsx(Paper, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 518\n      },\n      __self: this\n    }, __jsx(ClickAwayListener, {\n      onClickAway: function onClickAway() {\n        return setOpen(false);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 519\n      },\n      __self: this\n    }, keywordSearch ? renderNewSearch : renderHotHistory)));\n  })));\n};\n\nexport default MenuListComposition;","map":{"version":3,"sources":["C:/Users/manh nhan/Desktop/Nhadatmoi/components/Search/SearchForm.tsx"],"names":["React","useEffect","useState","Button","Typography","Popover","ListItem","ListItemText","ListItemIcon","Grow","Paper","Popper","MenuItem","MenuList","Hidden","Grid","Link","ClickAwayListener","Validator","SearchIcon","localStorageSearch","createMuiTheme","ThemeProvider","apolloClient","GET_PROJECT_LIST_NAME","GET_AD_SELL_LEASES","makeStyles","createStyles","EcoIcon","ViewList","InputBase","Router","useStyles","theme","root","display","placementHeaderSearch","width","breakpoints","up","marginLeft","down","placementHomeSearch","paddingTop","zIndex","paper","marginRight","spacing","fontMenuItem","fontWeight","fontSize","positionDelete","position","right","color","textAlign","positionSearchHome","overrides","MuiMenuItem","lineHeight","minHeight","projectHot","title","type","historySearch","Array","MenuListComposition","props","classes","open","setOpen","keywordSearch","setKeywordSearch","anchorRef","useRef","projectSearch","setProjectSearch","adSellLeasesSearch","setAdSellLeasesSearch","anchorElSearchType","setAnchorElSearchType","AD","AD_HOUSING","PROJECT_HOUSING","PROJECT","dropdownSearch","pathProps","path","defaultDropdown","typeSearch","setTypeSearch","searchHomeBodyTitle","searchHomeBodyDescription","searchHomeBodyExample","handleToggle","prevOpen","handleListKeyDown","event","key","preventDefault","removeLocalSearch","localStorage","removeItem","_id","undefined","JSON","parse","getItem","isBlank","setItem","current","onBlur","e","target","value","saveLocalStorege","handleKeyDownSearch","keyCode","checkExist","map","item","length","unshift","splice","console","log","onClickSearch","urlProcess","pathname","query","name","slugAs","push","shallow","onChangeSearch","buttonSearch","filterProject","filterAdSellLeases","dataFilterProject","dataFilterAdSellLeases","limit","variables","then","response","data","projects","edges","adSellLeases","typeRequest","keySearch","handleClickSearchType","currentTarget","handleChangeType","inputType","handleCloseSearchType","onChangeWards","openSearchType","Boolean","converProject","convetAdSellLeases","node","renderNewSearch","index","renderHot","renderHistory","renderHotHistory","renderSearchHeader","vertical","horizontal","renderSearchHome","renderTest","backgroundImage","backgroundUrl","searchLocation","TransitionProps","placement","transformOrigin"],"mappings":"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","sourcesContent":["import React, { useEffect, useState, FunctionComponent } from 'react';\r\nimport { \r\n  Button, Typography, Popover,\r\n  ListItem, ListItemText, ListItemIcon,\r\n  Grow, Paper, Popper,\r\n  MenuItem, MenuList,\r\n  Hidden, Grid\r\n} from '@material-ui/core';\r\nimport Link from 'next/link';\r\nimport ClickAwayListener from '@material-ui/core/ClickAwayListener';\r\nimport Validator from \"../../modules/validator\";\r\nimport SearchIcon from '@material-ui/icons/Search';\r\nimport {localStorageSearch} from \"../../constants\";\r\nimport { createMuiTheme, ThemeProvider } from '@material-ui/core/styles';\r\nimport {apolloClient} from \"../../utils\";\r\nimport {GET_PROJECT_LIST_NAME} from \"../../graphql/project/queries\";\r\nimport {GET_AD_SELL_LEASES} from \"../../graphql/ad_sell_leases/queries\"\r\nimport {makeStyles, createStyles} from '@material-ui/core/styles';\r\nimport EcoIcon from '@material-ui/icons/Eco';\r\nimport ViewList from '@material-ui/icons/ViewList';\r\nimport InputBase from \"@material-ui/core/InputBase\";\r\nimport Router from \"next/router\";\r\n\r\nconst useStyles = makeStyles((theme) =>\r\n  createStyles({\r\n    root: {\r\n      display: 'flex',\r\n    },\r\n    placementHeaderSearch: {\r\n      width: \"100%\",\r\n      [theme.breakpoints.up('sm')]: {\r\n        marginLeft: \"-40px\"\r\n      },\r\n      [theme.breakpoints.down('xs')]: {\r\n\r\n      },\r\n    },\r\n    placementHomeSearch: {\r\n      width: \"100%\",\r\n      paddingTop: \"12px\",\r\n      zIndex: 1000,\r\n      [theme.breakpoints.up('lg')]: {\r\n        width: \"calc(100% - 40px)\",\r\n        marginLeft: \"-200px\"\r\n      },\r\n      [theme.breakpoints.up('md')]: {\r\n        width: \"calc(100% - 40px)\",\r\n        marginLeft: \"-200px\"\r\n      },\r\n      [theme.breakpoints.up('sm')]: {\r\n        width: \"calc(100% - 40px)\",\r\n        marginLeft: \"-200px\"\r\n      },\r\n      [theme.breakpoints.down('sm')]: {\r\n        width: \"calc(100% - 40px)\",\r\n        paddingTop: \"7px\",\r\n        // marginLeft: \"4px\"\r\n      },\r\n    },\r\n    paper: {\r\n      marginRight: theme.spacing(2),\r\n    },\r\n    fontMenuItem: {\r\n      fontWeight: 900,\r\n      fontSize: \"15px\",\r\n    },\r\n    positionDelete: {\r\n      position: \"absolute\", \r\n      right: \"10px\",\r\n      color: \"red\",\r\n      textAlign: \"right\",\r\n      fontSize: \"14px\",\r\n    },\r\n    positionSearchHome: {\r\n\r\n    }\r\n  }),\r\n)\r\n\r\nconst theme = createMuiTheme({\r\n  overrides: {\r\n    MuiMenuItem: { \r\n      root: {\r\n        lineHeight: 1,\r\n        fontSize: \"14px\",\r\n        minHeight: \"30px\",\r\n      }\r\n    }\r\n  },\r\n});\r\n\r\nconst projectHot = [\r\n  { title: \"Vinhomes Central Park\", type: \"/du-an-bat-dong-san\"},\r\n  { title: \"Vinhomes Grand Park\", type: \"/du-an-bat-dong-san\"},\r\n  { title: \"Vinhomes Smart City\", type: \"/du-an-bat-dong-san\"},\r\n  { title: \"Nhà Đất Hải Phòng\", type: \"/nha-dat-ban\" },\r\n  { title: \"Nhà Đất Hà Nội\", type: \"/nha-dat-ban\" }\r\n]\r\n\r\ninterface ProjectSearchServer  {\r\n  edges: {\r\n    node: {\r\n      name: string,\r\n      id: string\r\n    }\r\n  }[],\r\n}\r\n\r\ninterface AdSellLeasesSearchServer  {\r\n  edges: {\r\n    node: {\r\n      title: string\r\n    }\r\n  }[],\r\n}\r\n\r\ninterface Props {\r\n  path: string\r\n  searchLocation: string\r\n}\r\n\r\nlet historySearch = new Array()\r\nconst MenuListComposition: FunctionComponent<Props> = (props: Props) => {\r\n  const classes = useStyles();\r\n  const [open, setOpen] = useState(false);\r\n  const [keywordSearch, setKeywordSearch] = useState(\"\");\r\n  const anchorRef = React.useRef(null);\r\n  const [projectSearch, setProjectSearch] = useState<ProjectSearchServer>();\r\n  \r\n  const [adSellLeasesSearch, setAdSellLeasesSearch] = useState<AdSellLeasesSearchServer>();\r\n  const [anchorElSearchType, setAnchorElSearchType] = React.useState<HTMLButtonElement | null>(null);\r\n  const AD = 'tin-rao'\r\n  const AD_HOUSING = 'nha-dat-ban'\r\n  const PROJECT_HOUSING = 'du-an-bat-dong-san'\r\n  const PROJECT = 'du-an'\r\n\r\n  const dropdownSearch = [\r\n    {title: 'Dự án', type: PROJECT_HOUSING},\r\n    {title: 'Tin rao', type: AD_HOUSING},\r\n  ];\r\n\r\n  let pathProps = props.path\r\n  let defaultDropdown = dropdownSearch[0];\r\n  if (pathProps === AD || pathProps === AD_HOUSING) {\r\n    defaultDropdown = dropdownSearch[1];\r\n  }\r\n  const [typeSearch, setTypeSearch] = React.useState(defaultDropdown);\r\n  \r\n  let searchHomeBodyTitle = 'Nhà Đất Mới - Giao dịch kiểu mới';\r\n  let searchHomeBodyDescription = 'Tìm: Nhà riêng, Chung cư, Biệt thự, Đất nền, Đất thổ cư';\r\n  let searchHomeBodyExample = 'Ví dụ: Hà Nội, Đà Nẵng, Thành Phố Hồ Chí Minh';\r\n\r\n  const handleToggle = () => {\r\n    setOpen(prevOpen => !prevOpen);\r\n  }\r\n\r\n  function handleListKeyDown(event: any) {\r\n    if (event.key === 'Tab') {\r\n      event.preventDefault();\r\n      setOpen(false);\r\n    }\r\n  }\r\n\r\n  const removeLocalSearch = () => {\r\n    localStorage.removeItem(localStorageSearch)\r\n    setOpen(false)\r\n    setKeywordSearch(\"\")\r\n  }\r\n\r\n  const _id = open ? 'simple-popover' : undefined;\r\n  const prevOpen = React.useRef(open)\r\n  useEffect(() => {\r\n    historySearch = JSON.parse(localStorage.getItem(localStorageSearch) as string)\r\n    if(!Array.isArray(historySearch)) historySearch = []\r\n    if(!Validator.isBlank(localStorage.getItem(localStorageSearch))) {\r\n      localStorage.setItem(localStorageSearch, JSON.stringify(historySearch))\r\n    } \r\n    if (prevOpen.current === true && open === false) {\r\n      // anchorRef.current.focus();\r\n    }\r\n    prevOpen.current = open\r\n  }, [open])\r\n\r\n  const onBlur = (e: any) => {\r\n    if(e.target.value){\r\n      saveLocalStorege(e)\r\n    }\r\n  }\r\n  \r\n  const handleKeyDownSearch = (e: any) => {\r\n    if (e.key == \"Enter\" || e.keyCode == 13) {\r\n      saveLocalStorege(e)\r\n    }\r\n  }\r\n\r\n  const saveLocalStorege = (e: any) => {\r\n    if(!Array.isArray(historySearch)) historySearch = []\r\n    let checkExist = false\r\n    historySearch.map(item => {\r\n      if(item && item.title === e.target.value) {\r\n        checkExist = true\r\n      }\r\n    })\r\n    if(!checkExist || historySearch.length == 0){ \r\n      historySearch.unshift({ title: e.target.value, type: `/${typeSearch.type}` })\r\n    }\r\n    if(historySearch.length >= 4){\r\n      historySearch.splice(3, 1)        \r\n    }\r\n    console.log(\"Local Storage\", historySearch)\r\n    localStorage.setItem(localStorageSearch, JSON.stringify(historySearch))\r\n  }\r\n\r\n  const onClickSearch = (title: string, type: string) => {\r\n    setKeywordSearch(\"\")\r\n    setOpen(false)\r\n    let urlProcess = { pathname: `${type}`, query: { name: title } }\r\n    let slugAs = `${type}?name=` + title;\r\n    Router.push(urlProcess, slugAs, { shallow: false }); \r\n  }\r\n\r\n  const onChangeSearch = (e: any) => {\r\n    if (e.key == \"Enter\" || e.keyCode == 13) {\r\n      buttonSearch(0, 0);\r\n    }\r\n\r\n    setKeywordSearch(e.target.value)\r\n    let filterProject = { name: e.target.value }\r\n    let filterAdSellLeases = { title: e.target.value}\r\n    let dataFilterProject = JSON.stringify(filterProject)\r\n    let dataFilterAdSellLeases = JSON.stringify(filterAdSellLeases)\r\n    let limit = pathProps == AD || pathProps == AD_HOUSING || pathProps == PROJECT_HOUSING || pathProps == PROJECT ? 10 : 4\r\n    // get tin rao\r\n    if(pathProps == \"\") {\r\n      limit = 10\r\n    }\r\n    if(typeSearch.type == PROJECT || typeSearch.type == PROJECT_HOUSING) { // get du an\r\n      apolloClient.query({query: GET_PROJECT_LIST_NAME, variables: {\r\n        \"page\": 1,\r\n        \"limit\": limit,\r\n        \"filter\": dataFilterProject\r\n      }}).then(response => { \r\n        setProjectSearch(response.data.projects.edges)\r\n      })\r\n    }\r\n    if(typeSearch.type == AD || typeSearch.type == AD_HOUSING){  // get tin rao\r\n      apolloClient.query({query: GET_AD_SELL_LEASES, variables: {\r\n        \"page\": 1,\r\n        \"limit\": limit,\r\n        \"filter\": dataFilterAdSellLeases \r\n      }}).then(response => { \r\n        setAdSellLeasesSearch(response.data.adSellLeases.edges)\r\n      })\r\n    }\r\n  }\r\n\r\n  const buttonSearch = (typeRequest: any, keySearch: any) => {\r\n    let key = keywordSearch\r\n    if(typeof keySearch == \"string\") {\r\n      key = keySearch\r\n    }\r\n\r\n    if (typeSearch.type === AD_HOUSING) {\r\n      let urlProcess = { pathname: '/nha-dat-ban', query: { title: key } }\r\n      let slugAs = '/nha-dat-ban?title=' + key;\r\n      Router.push(urlProcess, slugAs, { shallow: false });\r\n    } else {\r\n      let urlProcess = { pathname: '/du-an-bat-dong-san', query: { name: key } }\r\n      let slugAs = '/du-an-bat-dong-san?name=' + key;\r\n      Router.push(urlProcess, slugAs, { shallow: false });\r\n    }\r\n  }\r\n\r\n  const handleClickSearchType = (event: React.MouseEvent<HTMLButtonElement>) => {\r\n    setAnchorElSearchType(event.currentTarget);\r\n  };\r\n\r\n  const handleChangeType = (inputType: { title: string, type: string }) => {\r\n    setTypeSearch(inputType);\r\n    handleCloseSearchType();\r\n  };\r\n\r\n  const handleCloseSearchType = () => {\r\n    setAnchorElSearchType(null);\r\n  };\r\n\r\n  const onChangeWards = (event: any) => {\r\n    setKeywordSearch(event.target.value);\r\n    if (event.key == \"Enter\" || event.keyCode == 13) {\r\n      buttonSearch(0, 0);\r\n    }\r\n  };\r\n\r\n  const openSearchType = Boolean(anchorElSearchType);\r\n  let converProject = new Array()\r\n  let convetAdSellLeases = new Array()\r\n  if(Array.isArray(projectSearch)) {\r\n    projectSearch.map((item: any) => {\r\n      converProject.push({title: item.node.name, type: \"/du-an-bat-dong-san\"})\r\n    })\r\n  }\r\n  if(Array.isArray(adSellLeasesSearch)) {\r\n    adSellLeasesSearch.map((item: any) => {\r\n      convetAdSellLeases.push({title: item.node.title, type: \"/nha-dat-ban\"})\r\n    })\r\n  }\r\n\r\n  const renderNewSearch = typeSearch.type == AD || typeSearch.type == AD_HOUSING \r\n    ? <>\r\n        <MenuList id=\"menu-list-grow\" onKeyDown={handleListKeyDown}>\r\n          {<MenuItem key=\"tinrao\"><Typography className={classes.fontMenuItem}>TIN RAO</Typography></MenuItem>}\r\n          {convetAdSellLeases.map((item: any, index: number) => \r\n            <MenuItem key={index} onClick={() => onClickSearch(item.title, item.type)}>\r\n              {item.title}\r\n            </MenuItem>)} \r\n        </MenuList>\r\n      </>\r\n    : typeSearch.type == PROJECT || typeSearch.type == PROJECT_HOUSING \r\n    ? <MenuList id=\"menu-list-grow\" onKeyDown={handleListKeyDown}>\r\n        {<MenuItem><Typography className={classes.fontMenuItem}>DỰ ÁN</Typography></MenuItem>}\r\n        {converProject.map((item: any, index: number) => \r\n        <MenuItem key={index} onClick={() => onClickSearch(item.title, item.type)}>{item.title}</MenuItem>)}\r\n      </MenuList>\r\n    : <MenuList id=\"menu-list-grow\" onKeyDown={handleListKeyDown}>\r\n        {<MenuItem><Typography className={classes.fontMenuItem}>TIN RAO</Typography></MenuItem>}\r\n        {convetAdSellLeases.map((item: any, index: number) => \r\n          <MenuItem key={index} onClick={() => onClickSearch(item.title, item.type)}>\r\n            {item.title}</MenuItem>)} \r\n        {<MenuItem><Typography className={classes.fontMenuItem}>DỰ ÁN</Typography></MenuItem>}\r\n        {converProject.map((item: any, index: number) => \r\n          <MenuItem key={index} onClick={() => onClickSearch(item.title, item.type)}>\r\n            {item.title}</MenuItem>)}\r\n      </MenuList>\r\n\r\n  const renderHot = projectHot.map((item: any, index: number) =>\r\n    <MenuItem key={index} onClick={() => onClickSearch(item.title, item.type)}>\r\n      <Link href={`${item.type}`}><a style={{ color: \"black\"}}>{item.title}</a></Link>\r\n    </MenuItem>)\r\n\r\n  const renderHistory = historySearch.map((item: any, index: number) =>\r\n    <MenuItem key={index + 10} onClick={() => onClickSearch(item.title, item.type)}>\r\n      {item.title} \r\n    </MenuItem>)\r\n\r\n  const renderHotHistory = <MenuList id=\"menu-list-grow\" onKeyDown={handleListKeyDown}>\r\n    <MenuItem key=\"tukhoahot\"> <Typography className={classes.fontMenuItem}>TỪ KHÓA HOT</Typography></MenuItem>\r\n      {renderHot}\r\n      <MenuItem key=\"lichsutimkiem\">\r\n        <Typography className={classes.fontMenuItem}>LỊCH SỬ TÌM KIẾM</Typography>\r\n        <Typography className={classes.positionDelete} onClick={removeLocalSearch}>Xóa</Typography>\r\n      </MenuItem>\r\n      {renderHistory}\r\n    </MenuList>\r\n\r\n  const renderSearchHeader = <>\r\n    <div className=\"header__center__search__icon\">\r\n      <svg viewBox=\"0 0 512 512\">\r\n        <path d=\"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z\"/>\r\n      </svg>\r\n    </div>\r\n    <div className=\"header__center__search__box\">\r\n      <InputBase\r\n        fullWidth={true}\r\n        placeholder=\"Tìm kiếm ... \"\r\n        defaultValue={keywordSearch}\r\n        // value={keywordSearch}\r\n        onKeyDown={handleKeyDownSearch}\r\n        autoComplete=\"off\"\r\n        ref={anchorRef}\r\n        onChange={(e: any) => onChangeSearch(e)}\r\n        onBlur={(e: any) => onBlur(e)}\r\n        onClick={handleToggle}\r\n        onKeyUp={e => onChangeWards(e)} \r\n      />\r\n    </div>\r\n    <div className=\"header__center__search__type\" >\r\n      <Button \r\n        onClick={handleClickSearchType} \r\n        aria-describedby={_id} \r\n      >\r\n        <svg viewBox=\"0 0 320 512\">\r\n          <path d=\"M143 352.3L7 216.3c-9.4-9.4-9.4-24.6 0-33.9l22.6-22.6c9.4-9.4 24.6-9.4 33.9 0l96.4 96.4 96.4-96.4c9.4-9.4 24.6-9.4 33.9 0l22.6 22.6c9.4 9.4 9.4 24.6 0 33.9l-136 136c-9.2 9.4-24.4 9.4-33.8 0z\"/>\r\n        </svg>\r\n        {typeSearch.title}\r\n      </Button>\r\n      <Popover\r\n        id={_id}\r\n        open={openSearchType}\r\n        anchorEl={anchorElSearchType}\r\n        onClose={handleCloseSearchType}\r\n        anchorOrigin={{\r\n          vertical: 'bottom',\r\n          horizontal: 'center',\r\n        }}\r\n        transformOrigin={{\r\n          vertical: 'top',\r\n          horizontal: 'center',\r\n        }}\r\n        className=\"header__center__search__type__popup\"\r\n      >\r\n        <Typography component={'span'}>\r\n            <ListItem button onClick={(event: React.MouseEvent<HTMLElement>) => handleChangeType(dropdownSearch[0])}>\r\n              <ListItemIcon><EcoIcon/></ListItemIcon>\r\n            <ListItemText primary={dropdownSearch[0].title}/>\r\n          </ListItem>\r\n            <ListItem button onClick={(event: React.MouseEvent<HTMLElement>) => handleChangeType(dropdownSearch[1])}>\r\n              <ListItemIcon><ViewList/></ListItemIcon>\r\n              <ListItemText primary={dropdownSearch[1].title}/>\r\n            </ListItem>\r\n        </Typography>\r\n      </Popover>\r\n    </div>\r\n    <Button variant=\"outlined\" onClick={() => buttonSearch(0, 0)} className=\"header__center__search__button\">\r\n      <svg viewBox=\"0 0 512 512\">\r\n        <path d=\"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z\"/>\r\n      </svg>\r\n    </Button>\r\n  </>\r\n  \r\n  const renderSearchHome = (\r\n    <>\r\n      <Hidden xsDown>\r\n        <div className=\"search_homepage__body__box__select\">\r\n          <Button onClick={handleClickSearchType} aria-describedby={_id} >\r\n            {typeSearch.title}<svg viewBox=\"0 0 320 512\">\r\n              <path d=\"M143 352.3L7 216.3c-9.4-9.4-9.4-24.6 0-33.9l22.6-22.6c9.4-9.4 24.6-9.4 33.9 0l96.4 96.4 96.4-96.4c9.4-9.4 24.6-9.4 33.9 0l22.6 22.6c9.4 9.4 9.4 24.6 0 33.9l-136 136c-9.2 9.4-24.4 9.4-33.8 0z\"/>\r\n            </svg>\r\n          </Button>\r\n          <Popover\r\n            id={_id}\r\n            open={openSearchType}\r\n            anchorEl={anchorElSearchType}\r\n            onClose={handleCloseSearchType}\r\n            anchorOrigin={{\r\n              vertical: 'bottom',\r\n              horizontal: 'center',\r\n            }}\r\n            transformOrigin={{\r\n              vertical: 'top',\r\n              horizontal: 'center',\r\n            }}\r\n            className=\"search_homepage__body__box__select__popup\"\r\n          >\r\n            <Typography component={'span'}>\r\n                <ListItem button onClick={(event: React.MouseEvent<HTMLElement>) => handleChangeType(dropdownSearch[0])}>\r\n                  <ListItemIcon><EcoIcon/></ListItemIcon>\r\n                  <ListItemText primary={dropdownSearch[0].title}/>\r\n                </ListItem>\r\n                <ListItem button onClick={(event: React.MouseEvent<HTMLElement>) => handleChangeType(dropdownSearch[1])}>\r\n                  <ListItemIcon><ViewList/></ListItemIcon>\r\n                  <ListItemText primary={dropdownSearch[1].title}/>\r\n                </ListItem>\r\n            </Typography>\r\n          </Popover>\r\n        </div>\r\n      </Hidden>\r\n      <div className=\"search_homepage__body_box_input\">\r\n        <InputBase\r\n          fullWidth={true}\r\n          placeholder=\"Nhập thông tin tìm kiếm ... \"\r\n          className=\"search_homepage__body_box_input_base\"\r\n          defaultValue={keywordSearch}\r\n          autoComplete=\"off\"\r\n          ref={anchorRef}\r\n          onChange={(e: any) => onChangeSearch(e)}\r\n          onBlur={(e: any) => onBlur(e)}\r\n          onClick={handleToggle}\r\n          onKeyUp={e => onChangeWards(e)} \r\n        />\r\n      </div>\r\n      <Button variant=\"outlined\" onClick={() => buttonSearch(0, 0)} className=\"search_homepage__body_box_button\">\r\n        <SearchIcon/>\r\n      </Button>\r\n    </>\r\n  )\r\n\r\n  const renderTest = () => {\r\n    return (\r\n      <Grid \r\n        container spacing={0} item xs={12} \r\n        className=\"search_homepage__banner\"\r\n        style={{backgroundImage: 'url(' + backgroundUrl + ')'}} \r\n        direction=\"row\" justify=\"center\" alignItems=\"center\"\r\n      >\r\n      <Grid item xs className=\"search_homepage__body\">\r\n        <div className=\"search_homepage__body_title\">{searchHomeBodyTitle}</div>\r\n        <div className=\"search_homepage__body_description\">{searchHomeBodyDescription}</div>\r\n        <div className=\"search_homepage__body__box\" >\r\n          <SearchForm path='' searchLocation=\"home\" \r\n          />\r\n        </div>\r\n        <div className=\"search_homepage__body_example\">{searchHomeBodyExample}</div>\r\n      </Grid>\r\n    </Grid>\r\n    )\r\n  }\r\n  \r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <ThemeProvider theme={theme}>\r\n        <div  style={{ minHeight: '30px' }}>\r\n          { props.searchLocation == 'header'\r\n            ? renderSearchHeader : renderSearchHome\r\n          }\r\n        </div>\r\n        <Popper\r\n          className={ \r\n            props.searchLocation == 'header' \r\n            ? classes.placementHeaderSearch \r\n            : classes.placementHomeSearch\r\n          }\r\n          placement=\"bottom-start\"\r\n          open={open} anchorEl={anchorRef.current} role={undefined} transition disablePortal\r\n        >\r\n          {({ TransitionProps, placement }) => (\r\n            <Grow {...TransitionProps} style={{ transformOrigin: placement === 'bottom' ? 'left top' : 'center bottom' }} >\r\n              <Paper>\r\n                <ClickAwayListener onClickAway={() => setOpen(false)}>\r\n                  { keywordSearch \r\n                    ? renderNewSearch\r\n                    : renderHotHistory\r\n                  }\r\n                </ClickAwayListener>\r\n              </Paper>\r\n            </Grow>\r\n          )}\r\n        </Popper>\r\n      </ThemeProvider>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default MenuListComposition\r\n\r\n"]},"metadata":{},"sourceType":"module"}