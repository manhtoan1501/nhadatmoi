{"ast":null,"code":"import _JSON$stringify from \"@babel/runtime-corejs2/core-js/json/stringify\";\nvar _jsxFileName = \"C:\\\\Users\\\\toan\\\\Desktop\\\\NDM\\\\chat\\\\components\\\\Project\\\\ProjectMain.tsx\";\nvar __jsx = React.createElement;\nimport React, { useEffect } from \"react\";\n//Add Page Detail\nimport TitleBlock from \"../PageDetail/TitleBlock\";\nimport ContactBlock from \"../PageDetail/ContactBlock\";\nimport AlbumImageBlock from \"../PageDetail/AlbumImageBlock\";\nimport TextBlock from \"../PageDetail/TextBlock\";\nimport MapsBlock from '../PageDetail/MapsBlock';\nimport AdSellLeaseProject from \"./AdSellLeaseProject\";\n//Add Comment\nimport CommentArea from \"../Comment/Comment\"; // Material - UI\n\nimport Grid from \"@material-ui/core/Grid\";\nimport { localStorageProjectViewed } from \"../../constants\";\nimport Validator from \"../../modules/validator\";\nimport AslInfo from '../AdSellLeases/AslInfo';\nimport YoutubeBlock from '../PageDetail/YoutubeBlock';\n\nconst ProjectMain = props => {\n  useEffect(() => {\n    let viewedItem = localStorage.getItem(localStorageProjectViewed);\n    let dataToPush = {\n      node: props.dataObject\n    };\n\n    if (viewedItem && !Validator.isBlank(viewedItem)) {\n      try {\n        let viewedItemObject = JSON.parse(viewedItem);\n        let currentId = props.dataObject.id;\n        let countToAdd = 1;\n        let newDataToAdd = [];\n\n        for (let indexItem in viewedItemObject) {\n          let itemId = viewedItemObject[indexItem].node.id;\n\n          if (itemId !== currentId && countToAdd < 8) {\n            newDataToAdd.unshift(viewedItemObject[indexItem]);\n          }\n\n          countToAdd++;\n        }\n\n        newDataToAdd.unshift(dataToPush);\n\n        let dataToUpdate = _JSON$stringify(newDataToAdd);\n\n        localStorage.setItem(localStorageProjectViewed, dataToUpdate);\n      } catch (e) {\n        console.log(e);\n      }\n    } else {\n      let newViewedItemObject = [];\n      newViewedItemObject.push(dataToPush);\n\n      let dataToUpdate = _JSON$stringify(newViewedItemObject);\n\n      localStorage.setItem(localStorageProjectViewed, dataToUpdate);\n    }\n  }, []);\n  return __jsx(\"div\", {\n    className: \"container-big\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }, __jsx(Grid, {\n    container: true,\n    spacing: 3,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }, __jsx(Grid, {\n    item: true,\n    className: \"project-detail__left\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }, __jsx(TitleBlock, {\n    dataObject: props.dataObject,\n    objectUrl: props.objectUrl,\n    image: props.image,\n    type: 'project',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }), __jsx(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    className: \"project-info\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }, __jsx(\"h2\", {\n    className: \"project-info-title text-active u-margin-bottom-small\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  }, \"Th\\xF4ng tin t\\u1ED5ng quan\"), __jsx(AslInfo, {\n    dataObject: props.dataObject,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75\n    },\n    __self: this\n  }), props.dataObject.intro_content && __jsx(TextBlock, {\n    content: props.dataObject.intro_content,\n    title: 'Giới thiệu',\n    type: 'h2',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  }), props.dataObject.position_content && __jsx(TextBlock, {\n    content: props.dataObject.position_content,\n    title: 'Vị trí',\n    type: 'h2',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82\n    },\n    __self: this\n  }), props.dataObject.infrastructure_content && __jsx(TextBlock, {\n    content: props.dataObject.infrastructure_content,\n    title: 'Hạ tầng',\n    type: 'h2',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  }), props.dataObject && props.dataObject.video && __jsx(YoutubeBlock, {\n    videoLink: props.dataObject.video,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90\n    },\n    __self: this\n  }), __jsx(MapsBlock, {\n    dataObject: props.dataObject,\n    type: 'project',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92\n    },\n    __self: this\n  }))), __jsx(AlbumImageBlock, {\n    images: props.dataObject.image,\n    imageType: props.imageType,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95\n    },\n    __self: this\n  }), __jsx(AdSellLeaseProject, {\n    id: props.dataObject.id,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96\n    },\n    __self: this\n  }), __jsx(CommentArea, {\n    dataObject: props.dataObject,\n    type: 'project',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97\n    },\n    __self: this\n  })), __jsx(Grid, {\n    item: true,\n    className: \"project-detail__right\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    className: \"contact-area\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100\n    },\n    __self: this\n  }, __jsx(ContactBlock, {\n    dataObject: props.dataObject,\n    type: 'project',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101\n    },\n    __self: this\n  })))));\n};\n\nexport default ProjectMain;","map":{"version":3,"sources":["C:/Users/toan/Desktop/NDM/chat/components/Project/ProjectMain.tsx"],"names":["React","useEffect","TitleBlock","ContactBlock","AlbumImageBlock","TextBlock","MapsBlock","AdSellLeaseProject","CommentArea","Grid","localStorageProjectViewed","Validator","AslInfo","YoutubeBlock","ProjectMain","props","viewedItem","localStorage","getItem","dataToPush","node","dataObject","isBlank","viewedItemObject","JSON","parse","currentId","id","countToAdd","newDataToAdd","indexItem","itemId","unshift","dataToUpdate","setItem","e","console","log","newViewedItemObject","push","objectUrl","image","intro_content","position_content","infrastructure_content","video","imageType"],"mappings":"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","sourcesContent":["import React, {FunctionComponent, useEffect} from \"react\";\r\nimport PageDetailInfo from \"../PageDetail/PageDetailInfo\";\r\n//Add Page Detail\r\nimport TitleBlock from \"../PageDetail/TitleBlock\";\r\nimport ContactBlock from \"../PageDetail/ContactBlock\";\r\nimport AlbumImageBlock from \"../PageDetail/AlbumImageBlock\";\r\nimport TextBlock from \"../PageDetail/TextBlock\";\r\nimport MapsBlock from '../PageDetail/MapsBlock';\r\nimport AdSellLeaseProject from \"./AdSellLeaseProject\";\r\nimport {AdSellLeaseItem} from \"../../interfaces/adSellLeaseItem\";\r\n\r\n//Add Comment\r\nimport CommentArea from \"../Comment/Comment\";\r\n\r\n// Material - UI\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport {localStorageProjectViewed} from \"../../constants\";\r\nimport Validator from \"../../modules/validator\";\r\nimport AslInfo from '../AdSellLeases/AslInfo';\r\nimport YoutubeBlock from '../PageDetail/YoutubeBlock';\r\n\r\ninterface ProjectMainProps {\r\n  dataObject: AdSellLeaseItem\r\n  imageType: string\r\n  objectUrl: string\r\n  image: string\r\n}\r\n\r\nconst ProjectMain: FunctionComponent<ProjectMainProps> = (props: ProjectMainProps) => {\r\n  useEffect(() => {\r\n    let viewedItem = localStorage.getItem(localStorageProjectViewed);\r\n    let dataToPush = {\r\n      node: props.dataObject\r\n    };\r\n    if (viewedItem && !Validator.isBlank(viewedItem)) {\r\n      try {\r\n        let viewedItemObject = JSON.parse(viewedItem);\r\n        let currentId = props.dataObject.id;\r\n        let countToAdd = 1;\r\n        let newDataToAdd = [];\r\n        for (let indexItem in viewedItemObject) {\r\n          let itemId = viewedItemObject[indexItem].node.id;\r\n\r\n          if (itemId !== currentId && countToAdd < 8) {\r\n            newDataToAdd.unshift(viewedItemObject[indexItem]);\r\n          }\r\n          countToAdd++;\r\n        }\r\n        newDataToAdd.unshift(dataToPush);\r\n        let dataToUpdate = JSON.stringify(newDataToAdd);\r\n        localStorage.setItem(localStorageProjectViewed, dataToUpdate);\r\n      } catch (e) {\r\n        console.log(e);\r\n      }\r\n    } else {\r\n      let newViewedItemObject = [];\r\n      newViewedItemObject.push(dataToPush);\r\n      let dataToUpdate = JSON.stringify(newViewedItemObject);\r\n      localStorage.setItem(localStorageProjectViewed, dataToUpdate);\r\n    }\r\n  }, []);\r\n  return (\r\n    <div className=\"container-big\">\r\n      <Grid container spacing={3}>\r\n        <Grid item className=\"project-detail__left\">\r\n          <TitleBlock\r\n            dataObject={props.dataObject}\r\n            objectUrl={props.objectUrl}\r\n            image={props.image}\r\n            type={'project'}\r\n          />\r\n          <div>\r\n            <div className=\"project-info\">\r\n              <h2 className=\"project-info-title text-active u-margin-bottom-small\">Thông tin tổng quan</h2>\r\n              <AslInfo dataObject={props.dataObject}/>\r\n              {\r\n                props.dataObject.intro_content &&\r\n                <TextBlock content={props.dataObject.intro_content} title={'Giới thiệu'} type={'h2'}/>\r\n              }\r\n              {\r\n                props.dataObject.position_content &&\r\n                <TextBlock content={props.dataObject.position_content} title={'Vị trí'} type={'h2'}/>\r\n              }\r\n              {\r\n                props.dataObject.infrastructure_content &&\r\n                <TextBlock content={props.dataObject.infrastructure_content} title={'Hạ tầng'} type={'h2'}/>\r\n              }\r\n              {\r\n                props.dataObject && props.dataObject.video &&\r\n                <YoutubeBlock videoLink={props.dataObject.video}/>\r\n              }\r\n              <MapsBlock dataObject={props.dataObject} type={'project'}/>\r\n            </div>\r\n          </div>\r\n          <AlbumImageBlock images={props.dataObject.image} imageType={props.imageType}/>\r\n          <AdSellLeaseProject id={props.dataObject.id}/>\r\n          <CommentArea dataObject={props.dataObject} type={'project'}/>\r\n        </Grid>\r\n        <Grid item className=\"project-detail__right\">\r\n          <div className=\"contact-area\">\r\n            <ContactBlock dataObject={props.dataObject} type={'project'}/>\r\n          </div>\r\n        </Grid>\r\n      </Grid>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProjectMain;\r\n"]},"metadata":{},"sourceType":"module"}