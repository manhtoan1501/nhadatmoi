{"ast":null,"code":"import _Object$defineProperty from \"@babel/runtime-corejs2/core-js/object/define-property\";\nimport _Object$defineProperties from \"@babel/runtime-corejs2/core-js/object/define-properties\";\nimport _Object$getOwnPropertyDescriptors from \"@babel/runtime-corejs2/core-js/object/get-own-property-descriptors\";\nimport _Object$getOwnPropertyDescriptor from \"@babel/runtime-corejs2/core-js/object/get-own-property-descriptor\";\nimport _Object$getOwnPropertySymbols from \"@babel/runtime-corejs2/core-js/object/get-own-property-symbols\";\nimport _Object$keys from \"@babel/runtime-corejs2/core-js/object/keys\";\nimport _extends from \"@babel/runtime-corejs2/helpers/esm/extends\";\nimport _Object$assign from \"@babel/runtime-corejs2/core-js/object/assign\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport _JSON$stringify from \"@babel/runtime-corejs2/core-js/json/stringify\";\nimport _slicedToArray from \"@babel/runtime-corejs2/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\manh nhan\\\\Desktop\\\\Nhadatmoi\\\\components\\\\LayeredNavigation\\\\MainSearchPage.tsx\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = _Object$keys(object); if (_Object$getOwnPropertySymbols) { var symbols = _Object$getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return _Object$getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (_Object$getOwnPropertyDescriptors) { _Object$defineProperties(target, _Object$getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { _Object$defineProperty(target, key, _Object$getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport * as React from 'react'; //Import Layout\n\nimport Layout from '../../components/Layout/Layout';\nimport processQueryUrl from \"../../modules/LayeredNavigation/processQueryUrl\"; //Import Components\n\nimport TitleBlock from \"../../components/Index/TitleBlock\";\nimport GridAdSellLeases from \"../../components/GridList/GridAdSellLeases\";\nimport GridProject from \"../../components/GridList/GridProject\";\nimport LayeredNavigation from \"../../components/LayeredNavigation/LayeredNavigation\";\nimport TopLayered from \"../../components/LayeredNavigation/TopLayered\";\nimport Grid from \"@material-ui/core/Grid\";\nimport SearchKeyword from \"../../components/Search/KeywordSlide\";\nimport PaginationPage from \"../../components/Pagination/Pagination\";\nimport LoadingPage from \"../../components/Display/LoadingPage\";\nimport StringProcess from \"./../../modules/stringProcess\";\nimport Validator from \"../../modules/validator\";\nimport CategoryContent from \"../../components/Search/CategoryContent\";\nimport Router, { useRouter } from 'next/router'; //Import SCSS\n\nimport \"../../assets/scss/style.scss\";\nimport { apolloClient } from \"../../utils\";\nimport { GET_AD_SELL_LEASES } from \"../../graphql/ad_sell_leases/queries\";\nimport EmptyPage from \"../../components/Display/EmptyPage\";\nimport Hidden from \"@material-ui/core/Hidden\";\nimport Drawer from \"@material-ui/core/Drawer\";\nimport { useEffect } from \"react\";\nimport { GET_PROJECT_LIST } from \"../../graphql/project/queries\";\nimport { mainURL } from \"../../constants\";\nimport urlProcess from \"../../modules/urlProcess\";\n\n// @ts-ignore\nvar MainSearchPage = function MainSearchPage(props) {\n  //Define Query Data\n  var _React$useState = React.useState(\"'{}'\"),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      queryFilter = _React$useState2[0],\n      setQueryFilter = _React$useState2[1];\n\n  var _React$useState3 = React.useState(0),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      totalNumber = _React$useState4[0],\n      setTotalNumber = _React$useState4[1];\n\n  var _React$useState5 = React.useState(false),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      isNextPage = _React$useState6[0],\n      setNextPage = _React$useState6[1];\n\n  var _React$useState7 = React.useState(false),\n      _React$useState8 = _slicedToArray(_React$useState7, 2),\n      isPrevPage = _React$useState8[0],\n      setPrevPage = _React$useState8[1];\n\n  var _React$useState9 = React.useState(false),\n      _React$useState10 = _slicedToArray(_React$useState9, 2),\n      statusLoading = _React$useState10[0],\n      setStatusLoading = _React$useState10[1];\n\n  var _React$useState11 = React.useState(\"grid\"),\n      _React$useState12 = _slicedToArray(_React$useState11, 2),\n      typeView = _React$useState12[0],\n      setTypeView = _React$useState12[1]; //Search Data AdsellLease\n\n\n  var _React$useState13 = React.useState([]),\n      _React$useState14 = _slicedToArray(_React$useState13, 2),\n      searchDataAdSellLease = _React$useState14[0],\n      setSearchDataAdSellLease = _React$useState14[1]; //Search Data Project\n\n\n  var _React$useState15 = React.useState([]),\n      _React$useState16 = _slicedToArray(_React$useState15, 2),\n      searchDataProject = _React$useState16[0],\n      setSearchDataProject = _React$useState16[1]; //Layered Navigation Data\n\n\n  var _React$useState17 = React.useState(props.dataQuery),\n      _React$useState18 = _slicedToArray(_React$useState17, 2),\n      dataLayeredNavigation = _React$useState18[0],\n      setDataLayeredNavigation = _React$useState18[1];\n\n  var router = useRouter();\n\n  var updateLayeredNavigation = function updateLayeredNavigation(data) {\n    var valueString = getFilterString(data);\n    setDataLayeredNavigation(data);\n    setQueryFilter(valueString);\n    processRenderPage(1, null, valueString);\n    updateQueryString(data);\n  };\n\n  var updateQueryString = function updateQueryString(data) {\n    var queryString = processQueryUrl.processQueryUrl(data, props.typePage);\n    var slugAs = '/nha-dat-ban';\n    var urlProcess = '/nha-dat-ban';\n\n    if (props.typePage !== 'ad-sell-lease-location' && props.typePage !== 'ad-sell-lease-index') {\n      slugAs = '/du-an-bat-dong-san';\n      urlProcess = '/du-an-bat-dong-san';\n    }\n\n    if (data.slug && (props.typePage === 'ad-sell-lease-location' || props.typePage === 'ad-sell-lease-index')) {\n      urlProcess = urlProcess + '/[slug]';\n      slugAs = slugAs + '/' + data.slug;\n    }\n\n    if (queryString) {\n      slugAs = slugAs + '?' + queryString;\n    }\n\n    Router.push(urlProcess, slugAs, {\n      shallow: false\n    });\n  };\n\n  var getFilterString = function getFilterString(filterQuery) {\n    var filterQueryProcess = processQueryUrl.processQueryString(filterQuery);\n\n    var valueString = _JSON$stringify(filterQueryProcess);\n\n    valueString = valueString.split('\"').join(\"'\");\n    return valueString;\n  }; //First Render Data\n\n\n  useEffect(function () {\n    var valueString = getFilterString(props.dataQuery);\n    processRenderPage(props.dataQuery.page, null, valueString);\n  }, [props.dataQuery]); //Process Render Page\n\n  var processRenderPage = function processRenderPage(page, limit, filter) {\n    setStatusLoading(true);\n    var queryFilterPrepare = filter ? filter : queryFilter;\n    var queryGraphQL = GET_AD_SELL_LEASES;\n\n    if (props.typePage !== 'ad-sell-lease-location' && props.typePage !== 'ad-sell-lease-index') {\n      queryGraphQL = GET_PROJECT_LIST;\n    }\n\n    apolloClient.query({\n      query: queryGraphQL,\n      variables: {\n        \"page\": dataLayeredNavigation.page,\n        \"limit\": dataLayeredNavigation.limit,\n        \"filter\": queryFilterPrepare\n      }\n    }).then(function (response) {\n      setStatusLoading(false);\n\n      if (props.typePage !== 'ad-sell-lease-location' && props.typePage !== 'ad-sell-lease-index') {\n        //Set Search Data\n        if (!Validator.isBlank(response.data) && !Validator.isBlank(response.data.projects.edges)) {\n          setSearchDataProject(response.data.projects.edges);\n        }\n\n        if (!Validator.isBlank(response.data) && !Validator.isBlank(response.data.projects.edges)) {\n          setTotalNumber(response.data.projects.edges.length);\n        }\n\n        if (!Validator.isBlank(response.data) && !Validator.isBlank(response.data.projects.pageInfo.hasNextPage)) {\n          setNextPage(response.data.projects.pageInfo.hasNextPage);\n        }\n\n        if (!Validator.isBlank(response.data) && !Validator.isBlank(response.data.projects.pageInfo.hasPreviousPage)) {\n          setPrevPage(response.data.projects.pageInfo.hasPreviousPage);\n        } //If Blank\n\n\n        if (Validator.isBlank(response.data) || Validator.isBlank(response.data.projects.edges)) {\n          setSearchDataProject([]);\n          setTotalNumber(0);\n          setNextPage(false);\n          setPrevPage(false);\n        }\n      } else {\n        //Set Search Data\n        if (!Validator.isBlank(response.data) && !Validator.isBlank(response.data.adSellLeases.edges)) {\n          setSearchDataAdSellLease(response.data.adSellLeases.edges);\n        }\n\n        if (!Validator.isBlank(response.data) && !Validator.isBlank(response.data.adSellLeases.edges)) {\n          setTotalNumber(response.data.adSellLeases.edges.length);\n        }\n\n        if (!Validator.isBlank(response.data) && !Validator.isBlank(response.data.adSellLeases.pageInfo.hasNextPage)) {\n          setNextPage(response.data.adSellLeases.pageInfo.hasNextPage);\n        }\n\n        if (!Validator.isBlank(response.data) && !Validator.isBlank(response.data.adSellLeases.pageInfo.hasPreviousPage)) {\n          setPrevPage(response.data.adSellLeases.pageInfo.hasPreviousPage);\n        } //If Blank\n\n\n        if (Validator.isBlank(response.data) || Validator.isBlank(response.data.adSellLeases.edges)) {\n          setSearchDataAdSellLease([]);\n          setTotalNumber(0);\n          setNextPage(false);\n          setPrevPage(false);\n        }\n      }\n    });\n  }; //Process Open Left Layered Navigation\n\n\n  var _React$useState19 = React.useState({\n    top: false,\n    left: false,\n    bottom: false,\n    right: false\n  }),\n      _React$useState20 = _slicedToArray(_React$useState19, 2),\n      state = _React$useState20[0],\n      setState = _React$useState20[1]; // @ts-ignore\n\n\n  var toggleDrawer = function toggleDrawer(side, open) {\n    return function (event) {\n      if (event.type === 'keydown' && (event.key === 'Tab' || event.key === 'Shift')) {\n        return;\n      }\n\n      setState(_objectSpread({}, state, _defineProperty({}, side, open)));\n    };\n  }; // @ts-ignore\n\n\n  var handleOpenPopup = function handleOpenPopup() {\n    setState(_objectSpread({}, state, _defineProperty({}, \"right\", true)));\n  }; // change view\n\n\n  var _onChangeView = function onChangeView(type) {\n    setTypeView(type);\n  }; //Process Next Page, Previous Page\n\n\n  var onNextPage = function onNextPage() {\n    var nextPage = Number(dataLayeredNavigation.page) + 1;\n    dataLayeredNavigation.page = nextPage;\n    setDataLayeredNavigation(dataLayeredNavigation);\n    processRenderPage(nextPage, null, null);\n    updateQueryString(dataLayeredNavigation);\n  };\n\n  var onPrevPage = function onPrevPage() {\n    var previousPage = Number(dataLayeredNavigation.page) - 1;\n\n    if (previousPage >= 1) {\n      dataLayeredNavigation.page = previousPage;\n      setDataLayeredNavigation(dataLayeredNavigation);\n      processRenderPage(previousPage, null, null);\n      updateQueryString(dataLayeredNavigation);\n    }\n  }; //Prepare and Filter Location\n\n\n  var locationItem = {\n    id: null,\n    name: null,\n    title: null,\n    slug: null,\n    seo_title: null,\n    description: null,\n    seo_description: null,\n    image: null\n  };\n\n  if (!Validator.isBlank(props.location.city) && !Validator.isBlank(props.location.city.id)) {\n    locationItem = _Object$assign(locationItem, props.location.city);\n  }\n\n  if (!Validator.isBlank(props.location.district) && !Validator.isBlank(props.location.district.id)) {\n    locationItem = _Object$assign(locationItem, props.location.district);\n  }\n\n  if (!Validator.isBlank(props.location.ward) && !Validator.isBlank(props.location.ward.id)) {\n    locationItem = _Object$assign(locationItem, props.location.ward);\n  } //Prepare page content\n\n\n  var titlePage = '';\n  var descriptionPage = '';\n  var heading = '';\n\n  if (props.typePage !== 'ad-sell-lease-location' && props.typePage !== 'ad-sell-lease-index') {\n    if (!Validator.isBlank(locationItem.name)) {\n      if (!Validator.isBlank(locationItem.seo_title)) {\n        titlePage = String(locationItem.seo_title);\n      } else {\n        titlePage = 'Dự án tại ' + locationItem.name + ' năm 2020';\n      }\n\n      if (!Validator.isBlank(locationItem.title)) {\n        heading = String(locationItem.title);\n      } else {\n        heading = 'Dự án tại ' + locationItem.name;\n      }\n\n      if (!Validator.isBlank(locationItem.seo_description)) {\n        descriptionPage = String(locationItem.seo_description);\n      } else {\n        descriptionPage = '';\n      }\n    } else {\n      titlePage = \"Tin tức dự án bất động sản toàn quốc đầy đủ, cập nhật nhất\";\n      heading = 'Tìm dự án';\n      descriptionPage = 'Nhà Đất Mới cập nhật liên tục tất cả dự án bất động sản trên toàn quốc với đầy đủ thông tin về quy mô, mức giá, tiến độ và đánh giá tiềm năng phát triển.';\n    }\n  } else {\n    if (!Validator.isBlank(locationItem.name)) {\n      if (!Validator.isBlank(locationItem.seo_title)) {\n        titlePage = String(locationItem.seo_title);\n      } else {\n        titlePage = 'Mua bán nhà tại ' + locationItem.name + ' năm 2020';\n      }\n\n      if (!Validator.isBlank(locationItem.title)) {\n        heading = String(locationItem.title);\n      } else {\n        heading = 'Mua bán nhà tại ' + locationItem.name;\n      }\n\n      if (!Validator.isBlank(locationItem.seo_description)) {\n        descriptionPage = String(locationItem.seo_description);\n      } else {\n        descriptionPage = '';\n      }\n    } else {\n      titlePage = \"Tin rao bất động sản uy tín nhất hiện nay - Nhà Đất Mới\";\n      heading = 'Tìm tin rao';\n      descriptionPage = 'Website đăng tin, mua bán bất động sản uy tín, nhanh chóng và hiệu quả. 100% tin rao trên toàn quốc đều được kiểm chứng và xác thực bởi hệ thống thông minh.';\n    }\n  }\n\n  var pathString = 'nha-dat-ban';\n\n  if (props.typePage !== 'ad-sell-lease-location' && props.typePage !== 'ad-sell-lease-index') {\n    pathString = 'du-an-bat-dong-san';\n  }\n\n  var canonicalTag = mainURL + '/' + pathString;\n\n  if (props.slug) {\n    canonicalTag = canonicalTag + '/' + props.slug;\n  }\n\n  var imageAvatar = 'https://static.nhadatmoi.net/default/home_default.jpg';\n\n  if (locationItem.image) {\n    var imageString = String(locationItem.image);\n    imageAvatar = urlProcess.processImageUrl(imageString, '');\n  }\n\n  var freshText = function freshText(input) {\n    input = StringProcess.stripProperties(input, []);\n    input = StringProcess.stripTags(input, '');\n    input = input.replace(/&nbsp;/g, ' ');\n    return input;\n  };\n\n  var convertDescription = function convertDescription(input) {\n    return input.replace(/&#(\\d+);/g, function (match, dec) {\n      return String.fromCharCode(dec);\n    });\n  };\n\n  if (locationItem.description && (descriptionPage === '' || !descriptionPage)) {\n    var textToReplace = String(locationItem.description);\n    descriptionPage = freshText(textToReplace);\n    descriptionPage = convertDescription(descriptionPage);\n    descriptionPage = StringProcess.truncateString(descriptionPage, 255, '');\n  } // @ts-ignore\n\n\n  return __jsx(Layout, _extends({\n    title: titlePage,\n    description: descriptionPage\n  }, props, {\n    image: imageAvatar,\n    canonical: canonicalTag,\n    path: pathString,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 413\n    },\n    __self: this\n  }), __jsx(\"div\", {\n    className: \"body_container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 421\n    },\n    __self: this\n  }, __jsx(Hidden, {\n    smDown: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 422\n    },\n    __self: this\n  }, __jsx(LayeredNavigation, {\n    className: \"search_layered\",\n    updateLayeredNavigation: updateLayeredNavigation,\n    dataLayeredNavigation: dataLayeredNavigation,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 423\n    },\n    __self: this\n  })), __jsx(Drawer, {\n    anchor: \"right\",\n    open: state.right,\n    onClose: toggleDrawer('right', false),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 425\n    },\n    __self: this\n  }, __jsx(LayeredNavigation, {\n    className: \"search_layered\",\n    updateLayeredNavigation: updateLayeredNavigation,\n    dataLayeredNavigation: dataLayeredNavigation,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 426\n    },\n    __self: this\n  })), __jsx(Grid, {\n    item: true,\n    className: \"search_body border\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 428\n    },\n    __self: this\n  }, __jsx(TitleBlock, {\n    title: heading,\n    description: \"Hiển thị \" + StringProcess.addCommas(Number(totalNumber).toString()) + \" kết quả\",\n    type: \"h1\",\n    path: \"\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 429\n    },\n    __self: this\n  }), __jsx(TopLayered, {\n    onChangeView: function onChangeView(type) {\n      return _onChangeView(type);\n    },\n    className: \"top_layered\",\n    onOpen: function onOpen() {\n      return handleOpenPopup();\n    },\n    updateLayeredNavigation: updateLayeredNavigation,\n    dataLayeredNavigation: dataLayeredNavigation,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 435\n    },\n    __self: this\n  }), statusLoading && __jsx(LoadingPage, {\n    className: \"loading_page\",\n    grid: {\n      xl: 3,\n      lg: 4,\n      md: 6,\n      sm: 6,\n      xs: 12\n    },\n    numberLimit: 12,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 444\n    },\n    __self: this\n  }), !statusLoading && searchDataAdSellLease.length == 0 && (props.typePage === 'ad-sell-lease-location' || props.typePage === 'ad-sell-lease-index') && __jsx(EmptyPage, {\n    title: \"Kh\\xF4ng t\\xECm th\\u1EA5y k\\u1EBFt qu\\u1EA3 n\\xE0o\",\n    description: \"Vui l\\xF2ng s\\u1EED d\\u1EE5ng t\\u1EEB kh\\xF3a kh\\xE1c ho\\u1EB7c s\\u1EED d\\u1EE5ng b\\u1ED9 l\\u1ECDc n\\xE2ng cao \\u0111\\u1EC3 t\\xECm ki\\u1EBFm k\\u1EBFt qu\\u1EA3 ph\\xF9 h\\u1EE3p\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 448\n    },\n    __self: this\n  }), !statusLoading && searchDataProject.length == 0 && props.typePage === 'project-index' && __jsx(EmptyPage, {\n    title: \"Kh\\xF4ng t\\xECm th\\u1EA5y k\\u1EBFt qu\\u1EA3 n\\xE0o\",\n    description: \"Vui l\\xF2ng s\\u1EED d\\u1EE5ng t\\u1EEB kh\\xF3a kh\\xE1c ho\\u1EB7c s\\u1EED d\\u1EE5ng b\\u1ED9 l\\u1ECDc n\\xE2ng cao \\u0111\\u1EC3 t\\xECm ki\\u1EBFm k\\u1EBFt qu\\u1EA3 ph\\xF9 h\\u1EE3p\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 452\n    },\n    __self: this\n  }), !statusLoading && searchDataAdSellLease.length > 0 && (props.typePage === 'ad-sell-lease-location' || props.typePage === 'ad-sell-lease-index') && __jsx(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 456\n    },\n    __self: this\n  }, __jsx(GridAdSellLeases, {\n    grid: {\n      xl: 3,\n      lg: 4,\n      md: 6,\n      sm: 6,\n      xs: 12\n    },\n    gridData: searchDataAdSellLease,\n    className: \"grid__list\",\n    typeView: typeView,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 457\n    },\n    __self: this\n  }), __jsx(PaginationPage, {\n    isNextPage: isNextPage,\n    isPrevPage: isPrevPage,\n    currentPage: 2,\n    onNextPage: onNextPage,\n    onPrevPage: onPrevPage,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 463\n    },\n    __self: this\n  })), !statusLoading && searchDataProject.length > 0 && props.typePage === 'project-index' && __jsx(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 473\n    },\n    __self: this\n  }, __jsx(GridProject, {\n    grid: {\n      xl: 3,\n      lg: 4,\n      md: 6,\n      sm: 6,\n      xs: 12\n    },\n    gridData: searchDataProject,\n    className: \"grid__list\",\n    typeView: typeView,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 474\n    },\n    __self: this\n  }), __jsx(PaginationPage, {\n    isNextPage: isNextPage,\n    isPrevPage: isPrevPage,\n    currentPage: 2,\n    onNextPage: onNextPage,\n    onPrevPage: onPrevPage,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 480\n    },\n    __self: this\n  })), __jsx(CategoryContent, {\n    description: locationItem.description,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 489\n    },\n    __self: this\n  }), __jsx(SearchKeyword, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 490\n    },\n    __self: this\n  }))));\n};\n\nexport default MainSearchPage;","map":{"version":3,"sources":["C:/Users/manh nhan/Desktop/Nhadatmoi/components/LayeredNavigation/MainSearchPage.tsx"],"names":["React","Layout","processQueryUrl","TitleBlock","GridAdSellLeases","GridProject","LayeredNavigation","TopLayered","Grid","SearchKeyword","PaginationPage","LoadingPage","StringProcess","Validator","CategoryContent","Router","useRouter","apolloClient","GET_AD_SELL_LEASES","EmptyPage","Hidden","Drawer","useEffect","GET_PROJECT_LIST","mainURL","urlProcess","MainSearchPage","props","useState","queryFilter","setQueryFilter","totalNumber","setTotalNumber","isNextPage","setNextPage","isPrevPage","setPrevPage","statusLoading","setStatusLoading","typeView","setTypeView","searchDataAdSellLease","setSearchDataAdSellLease","searchDataProject","setSearchDataProject","dataQuery","dataLayeredNavigation","setDataLayeredNavigation","router","updateLayeredNavigation","data","valueString","getFilterString","processRenderPage","updateQueryString","queryString","typePage","slugAs","slug","push","shallow","filterQuery","filterQueryProcess","processQueryString","split","join","page","limit","filter","queryFilterPrepare","queryGraphQL","query","variables","then","response","isBlank","projects","edges","length","pageInfo","hasNextPage","hasPreviousPage","adSellLeases","top","left","bottom","right","state","setState","toggleDrawer","side","open","event","type","key","handleOpenPopup","onChangeView","onNextPage","nextPage","Number","onPrevPage","previousPage","locationItem","id","name","title","seo_title","description","seo_description","image","location","city","district","ward","titlePage","descriptionPage","heading","String","pathString","canonicalTag","imageAvatar","imageString","processImageUrl","freshText","input","stripProperties","stripTags","replace","convertDescription","match","dec","fromCharCode","textToReplace","truncateString","addCommas","toString","xl","lg","md","sm","xs"],"mappings":"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","sourcesContent":["import * as React from 'react';\r\n//Import Layout\r\nimport Layout from '../../components/Layout/Layout';\r\nimport processQueryUrl from \"../../modules/LayeredNavigation/processQueryUrl\";\r\n//Import Components\r\nimport TitleBlock from \"../../components/Index/TitleBlock\";\r\nimport GridAdSellLeases from \"../../components/GridList/GridAdSellLeases\";\r\nimport GridProject from \"../../components/GridList/GridProject\";\r\nimport LayeredNavigation from \"../../components/LayeredNavigation/LayeredNavigation\";\r\nimport TopLayered from \"../../components/LayeredNavigation/TopLayered\";\r\nimport {NextPage} from 'next';\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport SearchKeyword from \"../../components/Search/KeywordSlide\";\r\nimport PaginationPage from \"../../components/Pagination/Pagination\";\r\nimport LoadingPage from \"../../components/Display/LoadingPage\";\r\nimport StringProcess from \"./../../modules/stringProcess\";\r\nimport Validator from \"../../modules/validator\";\r\nimport CategoryContent from \"../../components/Search/CategoryContent\";\r\nimport Router, {useRouter} from 'next/router';\r\n//Import SCSS\r\nimport \"../../assets/scss/style.scss\";\r\nimport {apolloClient} from \"../../utils\";\r\nimport {GET_AD_SELL_LEASES} from \"../../graphql/ad_sell_leases/queries\";\r\nimport EmptyPage from \"../../components/Display/EmptyPage\";\r\nimport Hidden from \"@material-ui/core/Hidden\";\r\nimport Drawer from \"@material-ui/core/Drawer\";\r\nimport {useEffect} from \"react\";\r\nimport {GET_PROJECT_LIST} from \"../../graphql/project/queries\";\r\nimport {mainURL} from \"../../constants\";\r\nimport urlProcess from \"../../modules/urlProcess\";\r\n\r\ninterface AdSellLeasesListProps {\r\n  node: {\r\n    title: string,\r\n    description: string,\r\n    slug: string,\r\n    created_at: string,\r\n    updated_at: string,\r\n    price: {\r\n      unit: string\r\n      value: string\r\n    },\r\n    avatar: {\r\n      alt_text: string\r\n      src: string\r\n      description: string\r\n    },\r\n    address: {\r\n      text: string,\r\n      ward: string,\r\n      district: string,\r\n      city: string\r\n    },\r\n    contact: ContactProp,\r\n    area: {\r\n      unit: string\r\n      value: string\r\n    }\r\n  }\r\n}\r\n\r\ninterface ContactProp {\r\n  image: string\r\n  name: string\r\n  address: string\r\n  mobile: string\r\n  phone: string,\r\n  email: string\r\n}\r\n\r\ninterface LocationItemProp {\r\n  id: string|null;\r\n  name: string|null;\r\n  title: string|null;\r\n  slug: string|null;\r\n  seo_title: string|null;\r\n  seo_description: string|null;\r\n  image: string|null;\r\n}\r\n\r\ninterface SearchPageProp {\r\n  location: {\r\n    city: LocationItemProp;\r\n    ward: LocationItemProp;\r\n    district: LocationItemProp;\r\n  },\r\n  dataQuery: DataQueryProp,\r\n  slug: string,\r\n  typePage: string\r\n}\r\n\r\ninterface DataQueryProp {\r\n  city: string|null,\r\n  district: string|null,\r\n  ward: string|null,\r\n  home_direction: string|null,\r\n  price_range: RangeValue,\r\n  area_range: RangeValue,\r\n  bed_room_number: RangeValue,\r\n  title: string|null,\r\n  name: string|null,\r\n  page: number|null,\r\n  limit: number|null,\r\n  slug: string|null,\r\n  sort_by: AdSellLeaseSortType\r\n}\r\n\r\ninterface RangeValue {\r\n  max: number;\r\n  min: number;\r\n}\r\n\r\ninterface AdSellLeaseSortType {\r\n  time?: \"newest\" | \"oldest\",\r\n  price?: \"low_to_high\" | \"high_to_low\",\r\n  view?: \"low_to_high\" | \"high_to_low\",\r\n  rate?: \"high_to_low\"\r\n}\r\n\r\ninterface ProjectListProp {\r\n  node: {\r\n    price: string,\r\n    name: string,\r\n    land_area: string,\r\n    slug: string,\r\n    created_at: string,\r\n    updated_at: string,\r\n    address: {\r\n      text: string,\r\n      ward: string,\r\n      district: string,\r\n      city: string\r\n    },\r\n    cover_image: string,\r\n    intro_content: string\r\n  }\r\n}\r\n\r\n// @ts-ignore\r\nconst MainSearchPage: NextPage<SearchPageProp> = (props: SearchPageProp) => {\r\n  //Define Query Data\r\n  const [queryFilter, setQueryFilter] = React.useState(\"'{}'\");\r\n  const [totalNumber, setTotalNumber] = React.useState(0);\r\n  const [isNextPage, setNextPage] = React.useState(false);\r\n  const [isPrevPage, setPrevPage] = React.useState(false);\r\n  const [statusLoading, setStatusLoading] = React.useState(false);\r\n  const [typeView, setTypeView] = React.useState(\"grid\")\r\n  //Search Data AdsellLease\r\n  const [searchDataAdSellLease, setSearchDataAdSellLease] = React.useState<AdSellLeasesListProps[]>([]);\r\n  //Search Data Project\r\n  const [searchDataProject, setSearchDataProject] = React.useState<ProjectListProp[]>([]);\r\n\r\n  //Layered Navigation Data\r\n  const [dataLayeredNavigation, setDataLayeredNavigation] = React.useState<DataQueryProp>(props.dataQuery);\r\n  const router = useRouter();\r\n  const updateLayeredNavigation = (data: DataQueryProp) => {\r\n    let valueString = getFilterString(data);\r\n    setDataLayeredNavigation(data);\r\n    setQueryFilter(valueString);\r\n    processRenderPage(1, null, valueString);\r\n    updateQueryString(data);\r\n  };\r\n\r\n  const updateQueryString = (data: DataQueryProp) => {\r\n    let queryString = processQueryUrl.processQueryUrl(data, props.typePage);\r\n    let slugAs = '/nha-dat-ban';\r\n    let urlProcess = '/nha-dat-ban';\r\n\r\n    if (props.typePage !== 'ad-sell-lease-location' && props.typePage !== 'ad-sell-lease-index') {\r\n      slugAs = '/du-an-bat-dong-san';\r\n      urlProcess = '/du-an-bat-dong-san';\r\n    }\r\n\r\n    if (data.slug && (props.typePage === 'ad-sell-lease-location' || props.typePage === 'ad-sell-lease-index')) {\r\n      urlProcess = urlProcess + '/[slug]';\r\n      slugAs = slugAs + '/' + data.slug;\r\n    }\r\n    if (queryString) {\r\n      slugAs = slugAs +  '?' + queryString;\r\n    }\r\n    Router.push(urlProcess, slugAs, { shallow: false });\r\n  };\r\n\r\n  const getFilterString = (filterQuery: DataQueryProp) => {\r\n    let filterQueryProcess = processQueryUrl.processQueryString(filterQuery);\r\n    let valueString = JSON.stringify(filterQueryProcess);\r\n    valueString = valueString.split('\"').join(\"'\");\r\n    return valueString;\r\n  };\r\n\r\n  //First Render Data\r\n  useEffect(() => {\r\n    let valueString = getFilterString(props.dataQuery);\r\n    processRenderPage(props.dataQuery.page, null, valueString);\r\n  }, [props.dataQuery]);\r\n\r\n  //Process Render Page\r\n  const processRenderPage = (page: number|null, limit: number|null, filter: string|null) => {\r\n    setStatusLoading(true);\r\n    let queryFilterPrepare = filter?filter:queryFilter;\r\n\r\n    let queryGraphQL = GET_AD_SELL_LEASES;\r\n    if (props.typePage !== 'ad-sell-lease-location' && props.typePage !== 'ad-sell-lease-index') {\r\n      queryGraphQL = GET_PROJECT_LIST;\r\n    }\r\n    apolloClient.query({query: queryGraphQL, variables: {\r\n        \"page\": dataLayeredNavigation.page,\r\n        \"limit\": dataLayeredNavigation.limit,\r\n        \"filter\": queryFilterPrepare\r\n    }}).then(response => {\r\n      setStatusLoading(false);\r\n      if (props.typePage !== 'ad-sell-lease-location' && props.typePage !== 'ad-sell-lease-index') {\r\n        //Set Search Data\r\n        if (!Validator.isBlank(response.data) && !Validator.isBlank(response.data.projects.edges)) {\r\n          setSearchDataProject(response.data.projects.edges);\r\n        }\r\n        if (!Validator.isBlank(response.data) && !Validator.isBlank(response.data.projects.edges)) {\r\n          setTotalNumber(response.data.projects.edges.length);\r\n        }\r\n        if (!Validator.isBlank(response.data) && !Validator.isBlank(response.data.projects.pageInfo.hasNextPage)) {\r\n          setNextPage(response.data.projects.pageInfo.hasNextPage);\r\n        }\r\n        if (!Validator.isBlank(response.data) && !Validator.isBlank(response.data.projects.pageInfo.hasPreviousPage)) {\r\n          setPrevPage(response.data.projects.pageInfo.hasPreviousPage);\r\n        }\r\n\r\n        //If Blank\r\n        if (Validator.isBlank(response.data) || Validator.isBlank(response.data.projects.edges)) {\r\n          setSearchDataProject([]);\r\n          setTotalNumber(0);\r\n          setNextPage(false);\r\n          setPrevPage(false);\r\n        }\r\n      } else {\r\n        //Set Search Data\r\n        if (!Validator.isBlank(response.data) && !Validator.isBlank(response.data.adSellLeases.edges)) {\r\n          setSearchDataAdSellLease(response.data.adSellLeases.edges);\r\n        }\r\n        if (!Validator.isBlank(response.data) && !Validator.isBlank(response.data.adSellLeases.edges)) {\r\n          setTotalNumber(response.data.adSellLeases.edges.length);\r\n        }\r\n        if (!Validator.isBlank(response.data) && !Validator.isBlank(response.data.adSellLeases.pageInfo.hasNextPage)) {\r\n          setNextPage(response.data.adSellLeases.pageInfo.hasNextPage);\r\n        }\r\n        if (!Validator.isBlank(response.data) && !Validator.isBlank(response.data.adSellLeases.pageInfo.hasPreviousPage)) {\r\n          setPrevPage(response.data.adSellLeases.pageInfo.hasPreviousPage);\r\n        }\r\n\r\n        //If Blank\r\n        if (Validator.isBlank(response.data) || Validator.isBlank(response.data.adSellLeases.edges)) {\r\n          setSearchDataAdSellLease([]);\r\n          setTotalNumber(0);\r\n          setNextPage(false);\r\n          setPrevPage(false);\r\n        }\r\n      }\r\n    });\r\n  };\r\n\r\n  //Process Open Left Layered Navigation\r\n  const [state, setState] = React.useState({\r\n    top: false,\r\n    left: false,\r\n    bottom: false,\r\n    right: false,\r\n  });\r\n  // @ts-ignore\r\n  const toggleDrawer = (side: string, open: boolean) => event => {\r\n    if (event.type === 'keydown' && (event.key === 'Tab' || event.key === 'Shift')) {\r\n      return;\r\n    }\r\n    setState({...state, [side]: open});\r\n  };\r\n\r\n  // @ts-ignore\r\n  const handleOpenPopup = () => {\r\n    setState({...state, [\"right\"]: true});\r\n  };\r\n\r\n  // change view\r\n  const onChangeView = (type: string) => {\r\n    setTypeView(type)\r\n  }\r\n\r\n  //Process Next Page, Previous Page\r\n  const onNextPage = () => {\r\n    let nextPage = Number(dataLayeredNavigation.page) + 1;\r\n    dataLayeredNavigation.page = nextPage;\r\n    setDataLayeredNavigation(dataLayeredNavigation);\r\n    processRenderPage(nextPage, null, null);\r\n    updateQueryString(dataLayeredNavigation);\r\n  };\r\n\r\n  const onPrevPage = () => {\r\n    let previousPage = Number(dataLayeredNavigation.page) - 1;\r\n    if (previousPage >= 1) {\r\n      dataLayeredNavigation.page = previousPage;\r\n      setDataLayeredNavigation(dataLayeredNavigation);\r\n      processRenderPage(previousPage, null, null);\r\n      updateQueryString(dataLayeredNavigation);\r\n    }\r\n  };\r\n\r\n  //Prepare and Filter Location\r\n  let locationItem = {\r\n    id: null,\r\n    name: null,\r\n    title: null,\r\n    slug: null,\r\n    seo_title: null,\r\n    description: null,\r\n    seo_description: null,\r\n    image: null\r\n  };\r\n  if (!Validator.isBlank(props.location.city) && !Validator.isBlank(props.location.city.id)) {\r\n    locationItem =  Object.assign(locationItem, props.location.city);\r\n  }\r\n  if (!Validator.isBlank(props.location.district) && !Validator.isBlank(props.location.district.id)) {\r\n    locationItem = Object.assign(locationItem, props.location.district);\r\n  }\r\n  if (!Validator.isBlank(props.location.ward) && !Validator.isBlank(props.location.ward.id)) {\r\n    locationItem = Object.assign(locationItem, props.location.ward);\r\n  }\r\n\r\n  //Prepare page content\r\n  let titlePage = '';\r\n  let descriptionPage = '';\r\n  let heading = '';\r\n\r\n\r\n  if (props.typePage !== 'ad-sell-lease-location' && props.typePage !== 'ad-sell-lease-index') {\r\n    if (!Validator.isBlank(locationItem.name)) {\r\n      if (!Validator.isBlank(locationItem.seo_title)) {\r\n        titlePage = String(locationItem.seo_title);\r\n      } else {\r\n        titlePage = 'Dự án tại ' + locationItem.name + ' năm 2020';\r\n      }\r\n      if (!Validator.isBlank(locationItem.title)) {\r\n        heading = String(locationItem.title);\r\n      } else {\r\n        heading = 'Dự án tại ' + locationItem.name;\r\n      }\r\n      if (!Validator.isBlank(locationItem.seo_description)) {\r\n        descriptionPage = String(locationItem.seo_description);\r\n      } else {\r\n        descriptionPage = '';\r\n      }\r\n    } else {\r\n      titlePage = \"Tin tức dự án bất động sản toàn quốc đầy đủ, cập nhật nhất\";\r\n      heading = 'Tìm dự án';\r\n      descriptionPage = 'Nhà Đất Mới cập nhật liên tục tất cả dự án bất động sản trên toàn quốc với đầy đủ thông tin về quy mô, mức giá, tiến độ và đánh giá tiềm năng phát triển.';\r\n    }\r\n  } else {\r\n    if (!Validator.isBlank(locationItem.name)) {\r\n      if (!Validator.isBlank(locationItem.seo_title)) {\r\n        titlePage = String(locationItem.seo_title);\r\n      } else {\r\n        titlePage = 'Mua bán nhà tại ' + locationItem.name + ' năm 2020';\r\n      }\r\n      if (!Validator.isBlank(locationItem.title)) {\r\n        heading = String(locationItem.title);\r\n      } else {\r\n        heading = 'Mua bán nhà tại ' + locationItem.name;\r\n      }\r\n      if (!Validator.isBlank(locationItem.seo_description)) {\r\n        descriptionPage = String(locationItem.seo_description);\r\n      } else {\r\n        descriptionPage = '';\r\n      }\r\n    } else {\r\n      titlePage = \"Tin rao bất động sản uy tín nhất hiện nay - Nhà Đất Mới\";\r\n      heading = 'Tìm tin rao';\r\n      descriptionPage = 'Website đăng tin, mua bán bất động sản uy tín, nhanh chóng và hiệu quả. 100% tin rao trên toàn quốc đều được kiểm chứng và xác thực bởi hệ thống thông minh.';\r\n    }\r\n  }\r\n\r\n  let pathString = 'nha-dat-ban';\r\n  if (props.typePage !== 'ad-sell-lease-location' && props.typePage !== 'ad-sell-lease-index') {\r\n    pathString = 'du-an-bat-dong-san';\r\n  }\r\n  let canonicalTag = mainURL + '/' + pathString;\r\n  if (props.slug) {\r\n    canonicalTag = canonicalTag + '/' + props.slug;\r\n  }\r\n\r\n  let imageAvatar = 'https://static.nhadatmoi.net/default/home_default.jpg';\r\n  if (locationItem.image) {\r\n    let imageString = String(locationItem.image);\r\n    imageAvatar = urlProcess.processImageUrl(imageString, '');\r\n  }\r\n\r\n  const freshText = (input: string) => {\r\n    input = StringProcess.stripProperties(input, []);\r\n    input = StringProcess.stripTags(input, '');\r\n    input = input.replace(/&nbsp;/g, ' ');\r\n    return input;\r\n  };\r\n  const convertDescription = (input: string) => {\r\n    return input.replace(/&#(\\d+);/g, function(match, dec) {\r\n      return String.fromCharCode(dec);\r\n    });\r\n  };\r\n\r\n  if (locationItem.description && (descriptionPage === '' || !descriptionPage)) {\r\n    let textToReplace = String(locationItem.description);\r\n    descriptionPage = freshText(textToReplace);\r\n    descriptionPage = convertDescription(descriptionPage);\r\n    descriptionPage = StringProcess.truncateString(descriptionPage, 255, '');\r\n  }\r\n\r\n  // @ts-ignore\r\n  return (\r\n    <Layout\r\n      title={titlePage}\r\n      description={descriptionPage}\r\n      {...props}\r\n      image={imageAvatar}\r\n      canonical={ canonicalTag }\r\n      path={pathString}\r\n    >\r\n      <div className=\"body_container\">\r\n        <Hidden smDown>\r\n          <LayeredNavigation className=\"search_layered\" updateLayeredNavigation={updateLayeredNavigation} dataLayeredNavigation={dataLayeredNavigation}/>\r\n        </Hidden>\r\n        <Drawer anchor=\"right\" open={state.right} onClose={toggleDrawer('right', false)}>\r\n          <LayeredNavigation className=\"search_layered\" updateLayeredNavigation={updateLayeredNavigation} dataLayeredNavigation={dataLayeredNavigation}/>\r\n        </Drawer>\r\n        <Grid item className=\"search_body border\">\r\n          <TitleBlock\r\n            title={heading}\r\n            description={\"Hiển thị \" +  StringProcess.addCommas(Number(totalNumber).toString()) + \" kết quả\"}\r\n            type={\"h1\"}\r\n            path={\"\"}\r\n          />\r\n          <TopLayered \r\n            onChangeView={(type) => onChangeView(type)}\r\n            className=\"top_layered\" \r\n            onOpen={() => handleOpenPopup()} \r\n            updateLayeredNavigation={updateLayeredNavigation} \r\n            dataLayeredNavigation={dataLayeredNavigation}\r\n          />\r\n\r\n          {statusLoading &&\r\n          <LoadingPage className=\"loading_page\" grid={{xl: 3, lg: 4, md: 6, sm: 6, xs: 12}} numberLimit={12}/>\r\n          }\r\n\r\n          {!statusLoading && searchDataAdSellLease.length == 0 && (props.typePage === 'ad-sell-lease-location' || props.typePage === 'ad-sell-lease-index') &&\r\n          <EmptyPage title=\"Không tìm thấy kết quả nào\" description=\"Vui lòng sử dụng từ khóa khác hoặc sử dụng bộ lọc nâng cao để tìm kiếm kết quả phù hợp\"/>\r\n          }\r\n\r\n          {!statusLoading && searchDataProject.length == 0 && (props.typePage === 'project-index') &&\r\n          <EmptyPage title=\"Không tìm thấy kết quả nào\" description=\"Vui lòng sử dụng từ khóa khác hoặc sử dụng bộ lọc nâng cao để tìm kiếm kết quả phù hợp\"/>\r\n          }\r\n\r\n          {!statusLoading && searchDataAdSellLease.length > 0 && (props.typePage === 'ad-sell-lease-location' || props.typePage === 'ad-sell-lease-index') &&\r\n          <div>\r\n            <GridAdSellLeases\r\n              grid={{xl: 3, lg: 4, md: 6, sm: 6, xs: 12}}\r\n              gridData={searchDataAdSellLease}\r\n              className=\"grid__list\"\r\n              typeView={typeView}\r\n            />\r\n            <PaginationPage\r\n              isNextPage={isNextPage}\r\n              isPrevPage={isPrevPage}\r\n              currentPage={2}\r\n              onNextPage={onNextPage}\r\n              onPrevPage={onPrevPage}\r\n            />\r\n          </div>\r\n          }\r\n          {!statusLoading && searchDataProject.length > 0 && (props.typePage === 'project-index') &&\r\n          <div>\r\n            <GridProject\r\n              grid={{xl: 3, lg: 4, md: 6, sm: 6, xs: 12}}\r\n              gridData={searchDataProject}\r\n              className=\"grid__list\"\r\n              typeView={typeView}\r\n            />\r\n            <PaginationPage\r\n              isNextPage={isNextPage}\r\n              isPrevPage={isPrevPage}\r\n              currentPage={2}\r\n              onNextPage={onNextPage}\r\n              onPrevPage={onPrevPage}\r\n            />\r\n          </div>\r\n          }\r\n          <CategoryContent description={locationItem.description}/>\r\n          <SearchKeyword/>\r\n        </Grid>\r\n      </div>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default MainSearchPage;\r\n"]},"metadata":{},"sourceType":"module"}