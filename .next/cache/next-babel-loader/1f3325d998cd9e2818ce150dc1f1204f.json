{"ast":null,"code":"import _Array$isArray from \"@babel/runtime-corejs2/core-js/array/is-array\";\nvar _jsxFileName = \"C:\\\\Users\\\\manh nhan\\\\Desktop\\\\new_ndm\\\\components\\\\Channel\\\\Header.tsx\";\nvar __jsx = React.createElement;\nimport React from \"react\";\nimport { Avatar } from \"@material-ui/core\";\nimport { headerStyles } from './Constant';\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\nimport { FOLLOW_CHANNEL, UN_FOLLOWED_CHANNEL } from \"../../graphql/channel/mutation\";\nimport { apolloClient } from \"../../utils\";\nimport _ from \"lodash\";\n;\n;\n\nconst Header = props => {\n  const classes = headerStyles();\n  const avatar = \"https://sf.co.ua/14/07/wallpaper-117233.jpg\"; // \"https://news.mogi.vn/wp-content/uploads/2018/08/anh-nha-dep-13.jpg\"\n\n  let follow_value = _.get(props, \"channel.follow_value\", \"\");\n\n  let [followValue, setFollowValue] = React.useState(0);\n  const [checkFollow, setCheckFollow] = React.useState(false);\n\n  const addFollow = async () => {\n    setFollowValue(follow_value + 1);\n    let follow = await apolloClient.mutate({\n      mutation: FOLLOW_CHANNEL,\n      variables: {\n        \"input\": {\n          \"id\": _.get(props, \"channel.id\", \"\")\n        }\n      }\n    }).then(response => {\n      setCheckFollow(true);\n    });\n  };\n\n  const unFollowed = async () => {\n    setFollowValue(follow_value - 1);\n    let follow = await apolloClient.mutate({\n      mutation: UN_FOLLOWED_CHANNEL,\n      variables: {\n        \"input\": {\n          \"id\": _.get(props, \"channel.id\", \"\")\n        }\n      }\n    }).then(response => {\n      setCheckFollow(false);\n    });\n  };\n\n  let follow = followValue || follow_value;\n\n  let followers = _.get(props, \"channel.followers\", \"\");\n\n  let check = false;\n\n  if (_Array$isArray(followers)) {\n    followers.map(item => {\n      if (props.userLogin == item.user_id) {\n        check = true;\n      }\n    });\n  }\n\n  ;\n  return __jsx(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    className: classes.cover,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81\n    },\n    __self: this\n  }), __jsx(\"div\", {\n    className: classes.container,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    style: {\n      width: \"100%\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    className: classes.channelAvatar,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84\n    },\n    __self: this\n  }, __jsx(Avatar, {\n    src: avatar,\n    className: classes.sideAvatar,\n    alt: \"ndm\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85\n    },\n    __self: this\n  })), __jsx(\"div\", {\n    style: {\n      width: \"calc(100% - 300px)\",\n      height: \"100px\",\n      float: \"left\",\n      textOverflow: \"ellipsis\",\n      whiteSpace: \"nowrap\",\n      overflow: \"hidden\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87\n    },\n    __self: this\n  }, _.get(props, \"channel.name\", \"\"), \"kenh giai tri kenh giai tri ken iai tri kenh giai tri kenh giai tri kenh giai tri ken iai tri kenh giai trikenh giai tri kenh giai tri ken iai tri kenh giai tri\", __jsx(\"div\", {\n    style: {\n      color: \"#444\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99\n    },\n    __self: this\n  }, follow > 0 ? follow : 0, \" l\\u01B0\\u1EE3t theo d\\xF5i\", _.get(props, \"channel.official_status\", \"\") ? __jsx(CheckCircleIcon, {\n    className: classes.checkOfficial,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105\n    },\n    __self: this\n  }) : \"\")), __jsx(\"div\", {\n    style: {\n      float: \"right\",\n      width: \"200px\",\n      height: \"20px\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109\n    },\n    __self: this\n  }, checkFollow || check ? __jsx(\"button\", {\n    onClick: () => unFollowed(),\n    style: {\n      width: \"100%\",\n      height: '40px',\n      border: \"2px solid #045EA8\",\n      borderRadius: \"4px\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111\n    },\n    __self: this\n  }, \"B\\u1ECF theo d\\xF5i\") : __jsx(\"button\", {\n    onClick: () => addFollow(),\n    style: {\n      width: \"100%\",\n      height: '40px',\n      border: \"2px solid #045EA8\",\n      borderRadius: \"4px\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112\n    },\n    __self: this\n  }, \"Theo d\\xF5i\")), __jsx(\"div\", {\n    style: {\n      clear: \"both\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115\n    },\n    __self: this\n  }))));\n};\n\nexport default Header;","map":{"version":3,"sources":["C:/Users/manh nhan/Desktop/new_ndm/components/Channel/Header.tsx"],"names":["React","Avatar","headerStyles","CheckCircleIcon","FOLLOW_CHANNEL","UN_FOLLOWED_CHANNEL","apolloClient","_","Header","props","classes","avatar","follow_value","get","followValue","setFollowValue","useState","checkFollow","setCheckFollow","addFollow","follow","mutate","mutation","variables","then","response","unFollowed","followers","check","map","item","userLogin","user_id","cover","container","width","channelAvatar","sideAvatar","height","float","textOverflow","whiteSpace","overflow","color","checkOfficial","border","borderRadius","clear"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport { Avatar, Typography, Button, Grid } from \"@material-ui/core\";\r\nimport { headerStyles } from './Constant';\r\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\r\nimport { FOLLOW_CHANNEL, UN_FOLLOWED_CHANNEL } from \"../../graphql/channel/mutation\";\r\nimport { apolloClient } from \"../../utils\";\r\nimport _ from \"lodash\";\r\n\r\ninterface HeaderProps {\r\n  userLogin: string\r\n  slug: string\r\n  channel: ChannelProp\r\n};\r\n\r\ninterface ChannelProp {\r\n  id: string\r\n  name: string\r\n  slug: string\r\n  avatar: string\r\n  cover: string\r\n  description: string\r\n  nation: string\r\n  language: string\r\n  telephone: string\r\n  address: string\r\n  facebook: string\r\n  youtube: string\r\n  website: string\r\n  official_status: number\r\n  follow_value: number\r\n  followers: {\r\n    user_id: string\r\n  }[]\r\n  created_at: string\r\n};\r\n\r\nconst Header: React.FunctionComponent<HeaderProps> = (props: HeaderProps) => {\r\n  const classes = headerStyles();\r\n  const avatar = \"https://sf.co.ua/14/07/wallpaper-117233.jpg\"; // \"https://news.mogi.vn/wp-content/uploads/2018/08/anh-nha-dep-13.jpg\"\r\n  let follow_value = _.get(props, \"channel.follow_value\", \"\");\r\n  let [followValue, setFollowValue] = React.useState(0);\r\n  const [checkFollow, setCheckFollow] = React.useState(false);\r\n\r\n  const addFollow = async ()=> { \r\n    setFollowValue(follow_value + 1 )\r\n    let follow = await apolloClient.mutate({ mutation: FOLLOW_CHANNEL, variables: {\r\n      \"input\": {\r\n        \"id\": _.get(props, \"channel.id\", \"\")\r\n      }\r\n    }})\r\n    .then((response: any) => {\r\n      setCheckFollow(true)\r\n    });\r\n  };\r\n\r\n  const unFollowed = async ()=> { \r\n    setFollowValue(follow_value - 1)\r\n    let follow = await apolloClient.mutate({ mutation: UN_FOLLOWED_CHANNEL, variables: {\r\n      \"input\": {\r\n        \"id\": _.get(props, \"channel.id\", \"\")\r\n      }\r\n    }})\r\n    .then((response: any) => {\r\n      setCheckFollow(false)\r\n    });\r\n  };\r\n\r\n  let follow = followValue || follow_value;\r\n  let followers = _.get(props, \"channel.followers\", \"\");\r\n  let check = false;\r\n  if(Array.isArray(followers)) {\r\n    followers.map((item: any) => {\r\n      if(props.userLogin == item.user_id) {\r\n        check = true\r\n      }\r\n    })\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div className={classes.cover}></div>\r\n      <div className={classes.container}>\r\n            <div style={{ width: \"100%\"}}>\r\n              <div className={classes.channelAvatar}>\r\n                <Avatar src={avatar} className={classes.sideAvatar} alt=\"ndm\"/> \r\n              </div>\r\n              <div \r\n                style={{\r\n                  width: \"calc(100% - 300px)\",\r\n                  height: \"100px\",\r\n                  float: \"left\",\r\n                  textOverflow: \"ellipsis\",\r\n                  whiteSpace: \"nowrap\",\r\n                  overflow: \"hidden\",\r\n                }}\r\n              >\r\n                {_.get(props, \"channel.name\", \"\")} \r\n                  kenh giai tri kenh giai tri ken iai tri kenh giai tri kenh giai tri kenh giai tri ken iai tri kenh giai trikenh giai tri kenh giai tri ken iai tri kenh giai tri\r\n                <div\r\n                  style={{\r\n                    color: \"#444\",\r\n                  }}\r\n                >\r\n                  {follow > 0 ? follow : 0} lượt theo dõi\r\n                  { _.get(props, \"channel.official_status\", \"\") ? <CheckCircleIcon className={classes.checkOfficial}/> : \"\"} \r\n                </div>\r\n              </div>\r\n\r\n              <div style={{ float: \"right\", width: \"200px\", height: \"20px\"  }}>\r\n                {checkFollow || check\r\n                  ? <button  onClick={() => unFollowed()} style={{ width: \"100%\", height: '40px', border: \"2px solid #045EA8\", borderRadius: \"4px\"}}>Bỏ theo dõi</button>\r\n                  : <button onClick={() => addFollow()} style={{ width: \"100%\", height: '40px', border: \"2px solid #045EA8\",  borderRadius: \"4px\" }} >Theo dõi</button>  \r\n                }\r\n              </div>\r\n              <div style={{ clear: \"both\" }}></div>\r\n            </div>\r\n           \r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n"]},"metadata":{},"sourceType":"module"}