{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\manh nhan\\\\Desktop\\\\new_ndm\\\\components\\\\Channel\\\\Index.tsx\";\nvar __jsx = React.createElement;\nimport React from \"react\";\nimport Members from \"./Tabs/Members\";\nimport Rating from \"./Tabs/Rating\";\nimport Introduce from \"./Tabs/Introduce\";\nimport AdSellLeases from \"./Tabs/AdSellLeases\";\nimport Header from \"./Header\";\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\nimport Paper from \"@material-ui/core/Paper\";\nimport _ from 'lodash';\nimport { Tabs, Tab, Grid, Button, Typography, Avatar, Hidden } from \"@material-ui/core\";\nimport { indexStyles } from \"./Constant\";\nimport { createMuiTheme } from '@material-ui/core/styles';\nimport { GET_CHANNELS } from \"../../graphql/channel/queries\";\nimport { apolloClient } from \"../../utils\";\nimport LoadingCircle from \"./LoadingCircle\";\nconst themeInput = createMuiTheme({\n  overrides: {\n    MuiTab: {\n      root: {\n        padding: \"6px\"\n      },\n      wrapper: {\n        fontSize: \"13px\",\n        fontWeight: 700\n      }\n    }\n  }\n});\n;\n;\n;\nconst tabs = [{\n  value: \"ad\",\n  label: \"Tin rao\"\n}, {\n  value: \"introduce\",\n  label: \"Giới thiệu\"\n}, {\n  value: \"members\",\n  label: \"Môi giới\"\n}, {\n  value: \"rating\",\n  label: \"Đánh giá\"\n}];\n\nconst Index = props => {\n  const classes = indexStyles();\n  const [itemTab, setItemTab] = React.useState(\"rating\");\n  const [page, setPage] = React.useState(0);\n  const [channels, setChannels] = React.useState([]);\n  const [loading, setLoading] = React.useState(true);\n\n  const channelId = _.get(props, \"channel.id\", \"\");\n\n  const handleTabsChange = (event, value) => {\n    setItemTab(value);\n  };\n\n  React.useEffect(() => {\n    getChannels();\n  });\n\n  const getChannels = async () => {\n    let limit = 8 + 8 * page;\n    let channels = await apolloClient.query({\n      query: GET_CHANNELS,\n      variables: {\n        \"limit\": limit,\n        \"page\": 1,\n        \"filter\": \"{}\"\n      }\n    }).then(response => {\n      let edges = _.get(response, \"data.channels.edges\", []);\n\n      setChannels(edges);\n      setLoading(false);\n    });\n  };\n\n  const renderTabs = () => {\n    return __jsx(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, __jsx(Hidden, {\n      smUp: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, tabs.map((item, index) => {\n      return __jsx(\"div\", {\n        style: {\n          width: \"100%\",\n          height: \"20px\",\n          padding: \"8px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }, item.label);\n    })), __jsx(Paper, {\n      square: true,\n      className: classes.rootTabs,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }, __jsx(Hidden, {\n      xsDown: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }, __jsx(Tabs, {\n      onChange: handleTabsChange,\n      scrollButtons: \"auto\",\n      indicatorColor: \"primary\",\n      textColor: \"primary\",\n      variant: \"standard\",\n      value: itemTab,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    }, tabs.map(tab => __jsx(Tab, {\n      key: tab.value,\n      label: tab.label,\n      value: tab.value,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153\n      },\n      __self: this\n    }))))));\n  };\n\n  const renderTab = () => {\n    return __jsx(\"div\", {\n      className: classes.contentTab,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163\n      },\n      __self: this\n    }, itemTab === \"ad\" && __jsx(AdSellLeases, {\n      channelId: channelId,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164\n      },\n      __self: this\n    }), itemTab === \"introduce\" && __jsx(Introduce, {\n      channelId: channelId,\n      slug: props.slug,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165\n      },\n      __self: this\n    }), itemTab === \"members\" && __jsx(Members, {\n      channelId: channelId,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166\n      },\n      __self: this\n    }), itemTab === \"rating\" && __jsx(Rating, {\n      channelId: channelId,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167\n      },\n      __self: this\n    }));\n  };\n\n  const viewMore = page => {\n    setPage(page);\n    getChannels();\n  };\n\n  const renderRelatedChannel = () => {\n    return __jsx(\"div\", {\n      className: classes.relatedChannel,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179\n      },\n      __self: this\n    }, __jsx(Typography, {\n      variant: \"h6\",\n      className: classes.title,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180\n      },\n      __self: this\n    }, \"K\\xEAnh li\\xEAn quan \"), loading ? __jsx(LoadingCircle, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181\n      },\n      __self: this\n    }) : \"\", channels.map((element, index) => {\n      return __jsx(\"div\", {\n        className: classes.itemRelatedChannel,\n        key: index,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184\n        },\n        __self: this\n      }, __jsx(Grid, {\n        container: true,\n        spacing: 0,\n        alignItems: \"center\",\n        justify: \"center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 185\n        },\n        __self: this\n      }, __jsx(Grid, {\n        item: true,\n        xs: 12,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 186\n        },\n        __self: this\n      }, __jsx(\"div\", {\n        className: classes.avatarRelatedChannel,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187\n        },\n        __self: this\n      }, element.node.avatar ? __jsx(Avatar, {\n        src: element.node.avatar,\n        className: classes.sizeAvatar,\n        alt: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 189\n        },\n        __self: this\n      }) : __jsx(Avatar, {\n        src: element.node.avatar,\n        className: classes.sizeAvatar,\n        alt: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190\n        },\n        __self: this\n      }, _.get(element, \"node.name[0]\", \"\"))), __jsx(\"div\", {\n        className: classes.contentFollow,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192\n        },\n        __self: this\n      }, __jsx(Typography, {\n        className: classes.titleFollow,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193\n        },\n        __self: this\n      }, element.node.name), __jsx(Typography, {\n        className: classes.numberFollow,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 196\n        },\n        __self: this\n      }, element.node.follow_value, \" L\\u01B0\\u1EE3t theo d\\xF5i\"), !element.node.official_status ? __jsx(CheckCircleIcon, {\n        style: {\n          color: \"#045EA8\",\n          fontSize: \"15px\",\n          float: \"right\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 199\n        },\n        __self: this\n      }) : \"\"), __jsx(\"div\", {\n        className: classes.clearFloat,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 201\n        },\n        __self: this\n      }))));\n    }), __jsx(Grid, {\n      container: true,\n      spacing: 4,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207\n      },\n      __self: this\n    }, __jsx(Grid, {\n      item: true,\n      xs: 12,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208\n      },\n      __self: this\n    }, __jsx(Button, {\n      onClick: () => viewMore(page + 1),\n      fullWidth: true,\n      className: classes.button,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209\n      },\n      __self: this\n    }, \"Xem th\\xEAm\"))));\n  };\n\n  return __jsx(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 219\n    },\n    __self: this\n  }, __jsx(Header, {\n    userLogin: props.userLogin,\n    channel: props.channel,\n    slug: props.slug,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 220\n    },\n    __self: this\n  }), __jsx(\"div\", {\n    className: classes.paddingIndex,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 221\n    },\n    __self: this\n  }, renderTabs(), __jsx(Grid, {\n    container: true,\n    alignItems: \"center\",\n    justify: \"center\",\n    spacing: 0,\n    className: classes.paddingContentTab,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 223\n    },\n    __self: this\n  }, __jsx(Grid, {\n    item: true,\n    xs: 12,\n    md: 9,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 224\n    },\n    __self: this\n  }, renderTab()), __jsx(Grid, {\n    item: true,\n    xs: 12,\n    md: 3,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 227\n    },\n    __self: this\n  }, renderRelatedChannel()))));\n};\n\nexport default Index;","map":{"version":3,"sources":["C:/Users/manh nhan/Desktop/new_ndm/components/Channel/Index.tsx"],"names":["React","Members","Rating","Introduce","AdSellLeases","Header","CheckCircleIcon","Paper","_","Tabs","Tab","Grid","Button","Typography","Avatar","Hidden","indexStyles","createMuiTheme","GET_CHANNELS","apolloClient","LoadingCircle","themeInput","overrides","MuiTab","root","padding","wrapper","fontSize","fontWeight","tabs","value","label","Index","props","classes","itemTab","setItemTab","useState","page","setPage","channels","setChannels","loading","setLoading","channelId","get","handleTabsChange","event","useEffect","getChannels","limit","query","variables","then","response","edges","renderTabs","map","item","index","width","height","rootTabs","tab","renderTab","contentTab","slug","viewMore","renderRelatedChannel","relatedChannel","title","element","itemRelatedChannel","avatarRelatedChannel","node","avatar","sizeAvatar","contentFollow","titleFollow","name","numberFollow","follow_value","official_status","color","float","clearFloat","button","userLogin","channel","paddingIndex","paddingContentTab"],"mappings":"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","sourcesContent":["import React, { FunctionComponent } from \"react\";\r\nimport Members from \"./Tabs/Members\";\r\nimport Rating from \"./Tabs/Rating\";\r\nimport Introduce from \"./Tabs/Introduce\";\r\nimport AdSellLeases from \"./Tabs/AdSellLeases\";\r\nimport Header from \"./Header\";\r\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport { ThemeProvider } from '@material-ui/core/styles';\r\nimport _ from 'lodash';\r\nimport { Tabs, Tab, Grid, Button, Typography, Avatar, Hidden, AppBar } from \"@material-ui/core\";\r\nimport { relatedChannel, indexStyles } from \"./Constant\";\r\nimport { createMuiTheme } from '@material-ui/core/styles';\r\nimport { GET_CHANNELS } from \"../../graphql/channel/queries\";\r\nimport { apolloClient } from \"../../utils\";\r\nimport LoadingCircle from \"./LoadingCircle\"\r\n\r\nconst themeInput = createMuiTheme({\r\n  overrides: {\r\n    MuiTab: {\r\n      root: {\r\n        padding: \"6px\",\r\n      },\r\n      wrapper: {\r\n        fontSize: \"13px\",\r\n        fontWeight: 700,\r\n      },\r\n    },\r\n  },\r\n});\r\n\r\ninterface IndexProps {\r\n  userLogin: string\r\n  channel: ChannelProp\r\n  slug: string\r\n};\r\n\r\ninterface Channels {\r\n  edges: {\r\n    node: {\r\n      id: string\r\n      name: string\r\n      slug: string\r\n      avatar: string \r\n      cover: string  \r\n      official_status: number \r\n      follow_value: number\r\n    }\r\n  }\r\n};\r\n\r\ninterface ChannelProp {\r\n  id: string\r\n  name: string\r\n  slug: string\r\n  avatar: string\r\n  cover: string\r\n  description: string\r\n  nation: string\r\n  language: string\r\n  telephone: string\r\n  address: string\r\n  facebook: string\r\n  youtube: string\r\n  website: string\r\n  official_status: number\r\n  follow_value: number\r\n  followers: {\r\n    user_id: string\r\n  }[]\r\n  created_at: string\r\n};\r\n\r\n\r\nconst tabs = [\r\n  { value: \"ad\", label: \"Tin rao\" },\r\n  { value: \"introduce\", label: \"Giới thiệu\" },\r\n  { value: \"members\", label: \"Môi giới\" },\r\n  { value: \"rating\", label: \"Đánh giá\" },\r\n];\r\n\r\nconst Index: FunctionComponent<IndexProps> = (props: any) => {\r\n  const classes = indexStyles();\r\n  const [itemTab, setItemTab] = React.useState(\"rating\");\r\n  const [page, setPage] = React.useState<number>(0);\r\n  const [channels, setChannels] = React.useState<Channels[]>([]);\r\n  const [loading, setLoading] = React.useState(true);\r\n  const channelId = _.get(props, \"channel.id\", \"\");\r\n  const handleTabsChange = (event: any, value: any) => {\r\n    setItemTab(value);\r\n  };\r\n\r\n  React.useEffect(()=> {\r\n    getChannels()\r\n  })\r\n\r\n  const getChannels = async () => { \r\n    let limit = 8 + 8*page\r\n    let channels = await apolloClient.query({ query: GET_CHANNELS, variables: {\r\n      \"limit\": limit,\r\n      \"page\": 1,\r\n      \"filter\": \"{}\",\r\n    }})\r\n    .then((response: any) => {\r\n      let edges = _.get(response, \"data.channels.edges\", [])\r\n      setChannels(edges)\r\n      setLoading(false)\r\n    });\r\n  };\r\n\r\n  const renderTabs = () => {\r\n    return (\r\n      <div>\r\n        <Hidden smUp>\r\n          {/* <ThemeProvider theme={themeInput}>\r\n            <Tabs\r\n              onChange={handleTabsChange}\r\n              scrollButtons=\"auto\"\r\n              indicatorColor=\"primary\"\r\n              textColor=\"primary\"\r\n              variant={\"fullWidth\"}\r\n              scrollButtons=\"auto\"\r\n              aria-label=\"scrollable auto tabs example\"\r\n              value={itemTab}\r\n            >\r\n              {tabs.map((tab) => <Tab key={tab.value} label={tab.label} value={tab.value}/> )}\r\n            </Tabs>\r\n          </ThemeProvider> */}\r\n          {tabs.map((item: any, index: number) => {\r\n            return (\r\n              <div \r\n                style={{\r\n                  width: \"100%\",\r\n                  height: \"20px\",\r\n                  padding: \"8px\",\r\n                }}\r\n              >\r\n                {item.label}\r\n              </div>\r\n            )\r\n          })}\r\n        </Hidden>\r\n        <Paper square className={classes.rootTabs} >\r\n          <Hidden xsDown>\r\n            <Tabs\r\n              onChange={handleTabsChange}\r\n              scrollButtons=\"auto\"\r\n              indicatorColor=\"primary\"\r\n              textColor=\"primary\"\r\n              variant=\"standard\" \r\n              value={itemTab}\r\n            >\r\n              {tabs.map((tab) => <Tab key={tab.value} label={tab.label} value={tab.value}/> )}\r\n            </Tabs>\r\n          </Hidden>\r\n        </Paper>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const renderTab = () => {\r\n    return (\r\n      <div className={classes.contentTab}>\r\n        {itemTab === \"ad\" && <AdSellLeases channelId={channelId} />}\r\n        {itemTab === \"introduce\" && <Introduce channelId={channelId} slug={props.slug}/>}\r\n        {itemTab === \"members\" && <Members channelId={channelId}  />}\r\n        {itemTab === \"rating\" && <Rating channelId={channelId} />}\r\n      </div>\r\n    );\r\n  };\r\n  \r\n  const viewMore = (page) => {\r\n    setPage(page)\r\n    getChannels()\r\n  }\r\n\r\n  const renderRelatedChannel = () => {\r\n    return (\r\n      <div className={classes.relatedChannel}>\r\n        <Typography variant=\"h6\" className={classes.title}>Kênh liên quan </Typography>\r\n        {loading ? <LoadingCircle /> : \"\"}\r\n        {channels.map((element: any, index: number) => {\r\n          return (\r\n            <div className={classes.itemRelatedChannel} key={index} >\r\n              <Grid container spacing={0} alignItems=\"center\" justify=\"center\">\r\n                <Grid item xs={12}>\r\n                  <div className={classes.avatarRelatedChannel}>\r\n                    {element.node.avatar \r\n                    ? <Avatar src={element.node.avatar} className={classes.sizeAvatar} alt=\"\" />\r\n                    : <Avatar src={element.node.avatar} className={classes.sizeAvatar} alt=\"\" >{_.get(element, \"node.name[0]\", \"\") }</Avatar>}\r\n                  </div>\r\n                  <div className={classes.contentFollow}>\r\n                    <Typography className={classes.titleFollow}>\r\n                      {element.node.name}\r\n                    </Typography>\r\n                    <Typography className={classes.numberFollow}>\r\n                      {element.node.follow_value} Lượt theo dõi \r\n                    </Typography>\r\n                    {!element.node.official_status ? <CheckCircleIcon style={{ color: \"#045EA8\", fontSize: \"15px\", float: \"right\" }} /> : \"\"}\r\n                  </div>\r\n                  <div className={classes.clearFloat}></div>\r\n                </Grid>\r\n              </Grid>\r\n            </div>\r\n          )\r\n        })}\r\n        <Grid container spacing={4}>\r\n          <Grid item xs={12}>\r\n            <Button onClick={() => viewMore(page + 1)} fullWidth className={classes.button}>\r\n              Xem thêm\r\n            </Button>\r\n          </Grid>\r\n        </Grid>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <Header userLogin={props.userLogin} channel={props.channel} slug={props.slug}/>\r\n      <div className={classes.paddingIndex}>\r\n        {renderTabs()}\r\n        <Grid container alignItems=\"center\" justify=\"center\" spacing={0} className={classes.paddingContentTab}>\r\n          <Grid item xs={12} md={9}>\r\n            {renderTab()}\r\n          </Grid>\r\n          <Grid item xs={12} md={3}>\r\n            {renderRelatedChannel()}\r\n          </Grid>\r\n        </Grid>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Index;\r\n"]},"metadata":{},"sourceType":"module"}