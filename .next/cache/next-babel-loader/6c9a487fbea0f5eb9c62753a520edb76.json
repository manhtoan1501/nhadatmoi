{"ast":null,"code":"import _Reflect$construct from \"@babel/runtime-corejs2/core-js/reflect/construct\";\nimport _Promise from \"@babel/runtime-corejs2/core-js/promise\";\nimport _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _Object$assign from \"@babel/runtime-corejs2/core-js/object/assign\";\nimport _extends from \"@babel/runtime-corejs2/helpers/esm/extends\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nvar _jsxFileName = \"C:\\\\Users\\\\manh nhan\\\\Desktop\\\\data\\\\chat\\\\pages\\\\_app.tsx\";\nvar __jsx = React.createElement;\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = _Reflect$construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !_Reflect$construct) return false; if (_Reflect$construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(_Reflect$construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport App from 'next/app';\nimport Url from 'url';\nimport React from 'react';\nimport nextCookie from \"next-cookies\";\nimport Router from \"next/router\"; // @ts-ignore\n\nimport withGA from \"next-ga\";\nimport { googleAnalyticsCode } from '../constants';\nimport Validator from \"../modules/validator\";\nimport ErrorMainPage from '../components/Layout/ErrorMainPage';\nvar projectDetailPathname = '/chi-tiet-du-an.aspx';\nvar newLandDetailPathname = '/newland/project_detail.aspx';\nvar newLandAdSellLeasePathname = '/newland/properties_detail.aspx';\nvar adSellLeaseDetailPathname = '/chi-tiet-tin-rao.aspx';\nvar projectDetailNew = '/du-an/';\nvar adSellLeaseDetailNew = '/tin-rao/';\nvar projectCategory = '/du-an.aspx';\nvar adSellLeaseCategory = '/tin-rao.aspx';\n\nvar MyApp =\n/*#__PURE__*/\nfunction (_App) {\n  _inherits(MyApp, _App);\n\n  var _super = _createSuper(MyApp);\n\n  function MyApp() {\n    _classCallCheck(this, MyApp);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(MyApp, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          Component = _this$props.Component,\n          pageProps = _this$props.pageProps;\n\n      if (!Validator.isBlank(pageProps.statusCode) && pageProps.statusCode !== 200) {\n        return __jsx(ErrorMainPage, {\n          statusCode: pageProps.statusCode,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 110\n          },\n          __self: this\n        });\n      }\n\n      return __jsx(React.Fragment, null, __jsx(Component, _extends({}, pageProps, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      })));\n    }\n  }], [{\n    key: \"getInitialProps\",\n    value: function getInitialProps(_ref) {\n      var Component, ctx, res, urlObject, pathName, queryString, urlRedirect, _urlRedirect, _urlRedirect2, _urlRedirect3, _urlRedirect4, _urlRedirect5, _urlRedirect6, pageProps, _nextCookie, user;\n\n      return _regeneratorRuntime.async(function getInitialProps$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              Component = _ref.Component, ctx = _ref.ctx, res = _ref.res;\n\n              if (ctx.asPath) {\n                urlObject = Url.parse(ctx.asPath);\n                pathName = urlObject.pathname;\n                queryString = urlObject.query;\n\n                if (pathName === '/nha-dat-ban/') {\n                  urlRedirect = '/nha-dat-ban';\n                  ctx.res.writeHead(301, {\n                    Location: \"\".concat(urlRedirect)\n                  });\n                  ctx.res.end();\n                }\n\n                if (pathName === '/tin-rao/') {\n                  _urlRedirect = '/tim-tin-rao';\n                  ctx.res.writeHead(301, {\n                    Location: \"\".concat(_urlRedirect)\n                  });\n                  ctx.res.end();\n                }\n\n                if (pathName === '/du-an' || pathName === '/du-an/' || pathName === '/du-an-bat-dong-san/') {\n                  _urlRedirect2 = '/du-an-bat-dong-san';\n                  ctx.res.writeHead(301, {\n                    Location: \"\".concat(_urlRedirect2)\n                  });\n                  ctx.res.end();\n                }\n\n                if (queryString && (pathName === projectDetailPathname || pathName === newLandDetailPathname)) {\n                  _urlRedirect3 = '/';\n\n                  if (queryString.indexOf('project_id=') === -1) {\n                    queryString = queryString.replace('.html', '');\n                    _urlRedirect3 = projectDetailNew + queryString;\n                  }\n\n                  ctx.res.writeHead(301, {\n                    Location: \"\".concat(_urlRedirect3)\n                  });\n                  ctx.res.end();\n                }\n\n                if (queryString && (pathName === adSellLeaseDetailPathname || pathName === newLandAdSellLeasePathname)) {\n                  _urlRedirect4 = '/';\n\n                  if (queryString.indexOf('ad_sell_lease_id=') === -1) {\n                    queryString = queryString.replace('.html', '');\n                    _urlRedirect4 = adSellLeaseDetailNew + queryString;\n                  }\n\n                  ctx.res.writeHead(301, {\n                    Location: \"\".concat(_urlRedirect4)\n                  });\n                  ctx.res.end();\n                }\n\n                if (pathName === projectCategory) {\n                  _urlRedirect5 = '/du-an';\n                  ctx.res.writeHead(301, {\n                    Location: \"\".concat(_urlRedirect5)\n                  });\n                  ctx.res.end();\n                }\n\n                if (pathName === adSellLeaseCategory) {\n                  _urlRedirect6 = '/tim-tin-rao';\n                  ctx.res.writeHead(301, {\n                    Location: \"\".concat(_urlRedirect6)\n                  });\n                  ctx.res.end();\n                }\n              }\n\n              pageProps = {\n                statusCode: 200\n              };\n\n              if (!Component.getInitialProps) {\n                _context.next = 7;\n                break;\n              }\n\n              _context.next = 6;\n              return _regeneratorRuntime.awrap(Component.getInitialProps(ctx));\n\n            case 6:\n              pageProps = _context.sent;\n\n            case 7:\n              _nextCookie = nextCookie(ctx), user = _nextCookie.user;\n              pageProps = _Object$assign(pageProps, {\n                user: user\n              });\n              return _context.abrupt(\"return\", {\n                pageProps: pageProps\n              });\n\n            case 10:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, null, _Promise);\n    }\n  }]);\n\n  return MyApp;\n}(App);\n\nexport default withGA(googleAnalyticsCode, Router)(MyApp);","map":{"version":3,"sources":["C:/Users/manh nhan/Desktop/data/chat/pages/_app.tsx"],"names":["App","Url","React","nextCookie","Router","withGA","googleAnalyticsCode","Validator","ErrorMainPage","projectDetailPathname","newLandDetailPathname","newLandAdSellLeasePathname","adSellLeaseDetailPathname","projectDetailNew","adSellLeaseDetailNew","projectCategory","adSellLeaseCategory","MyApp","props","Component","pageProps","isBlank","statusCode","ctx","res","asPath","urlObject","parse","pathName","pathname","queryString","query","urlRedirect","writeHead","Location","end","indexOf","replace","getInitialProps","user"],"mappings":"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","sourcesContent":["import App from 'next/app';\r\nimport Url from 'url';\r\nimport React from 'react'\r\nimport nextCookie from \"next-cookies\";\r\nimport Router from \"next/router\";\r\n// @ts-ignore\r\nimport withGA from \"next-ga\";\r\nimport {googleAnalyticsCode} from '../constants';\r\nimport ErrorPage from \"next/error\";\r\nimport Validator from \"../modules/validator\";\r\nimport ErrorMainPage from '../components/Layout/ErrorMainPage';\r\n\r\nconst projectDetailPathname = '/chi-tiet-du-an.aspx';\r\nconst newLandDetailPathname = '/newland/project_detail.aspx';\r\nconst newLandAdSellLeasePathname = '/newland/properties_detail.aspx';\r\nconst adSellLeaseDetailPathname = '/chi-tiet-tin-rao.aspx';\r\nconst projectDetailNew = '/du-an/';\r\nconst adSellLeaseDetailNew = '/tin-rao/';\r\nconst projectCategory = '/du-an.aspx';\r\nconst adSellLeaseCategory = '/tin-rao.aspx';\r\n\r\n\r\nclass MyApp extends App {\r\n  static async getInitialProps({Component, ctx, res}: any) {\r\n    if (ctx.asPath) {\r\n      let urlObject = Url.parse(ctx.asPath);\r\n\r\n      let pathName = urlObject.pathname;\r\n      let queryString = urlObject.query;\r\n      if (pathName === '/nha-dat-ban/') {\r\n        let urlRedirect = '/nha-dat-ban';\r\n        ctx.res.writeHead(301, {\r\n          Location: `${urlRedirect}`\r\n        });\r\n        ctx.res.end();\r\n      }\r\n\r\n      if (pathName === '/tin-rao/') {\r\n        let urlRedirect = '/tim-tin-rao';\r\n        ctx.res.writeHead(301, {\r\n          Location: `${urlRedirect}`\r\n        });\r\n        ctx.res.end();\r\n      }\r\n\r\n      if (pathName === '/du-an' || pathName === '/du-an/' || pathName === '/du-an-bat-dong-san/') {\r\n        let urlRedirect = '/du-an-bat-dong-san';\r\n        ctx.res.writeHead(301, {\r\n          Location: `${urlRedirect}`\r\n        });\r\n        ctx.res.end();\r\n      }\r\n\r\n      if (queryString && (pathName === projectDetailPathname || pathName === newLandDetailPathname)) {\r\n        let urlRedirect = '/';\r\n        if (queryString.indexOf('project_id=') === -1) {\r\n          queryString = queryString.replace('.html','');\r\n          urlRedirect = projectDetailNew + queryString;\r\n        }\r\n\r\n        ctx.res.writeHead(301, {\r\n          Location: `${urlRedirect}`\r\n        });\r\n        ctx.res.end();\r\n      }\r\n      if (queryString && (pathName === adSellLeaseDetailPathname || pathName === newLandAdSellLeasePathname)) {\r\n        let urlRedirect = '/';\r\n\r\n        if (queryString.indexOf('ad_sell_lease_id=') === -1) {\r\n          queryString = queryString.replace('.html','');\r\n          urlRedirect = adSellLeaseDetailNew + queryString;\r\n        }\r\n\r\n        ctx.res.writeHead(301, {\r\n          Location: `${urlRedirect}`\r\n        });\r\n        ctx.res.end();\r\n      }\r\n      if (pathName === projectCategory) {\r\n        let urlRedirect = '/du-an';\r\n        ctx.res.writeHead(301, {\r\n          Location: `${urlRedirect}`\r\n        });\r\n        ctx.res.end();\r\n      }\r\n\r\n      if (pathName === adSellLeaseCategory) {\r\n        let urlRedirect = '/tim-tin-rao';\r\n        ctx.res.writeHead(301, {\r\n          Location: `${urlRedirect}`\r\n        });\r\n        ctx.res.end();\r\n      }\r\n    }\r\n\r\n    let pageProps = {\r\n      statusCode: 200\r\n    };\r\n    if (Component.getInitialProps) {\r\n      pageProps = await Component.getInitialProps(ctx);\r\n    }\r\n    let {user} = nextCookie(ctx);\r\n    pageProps = Object.assign(pageProps,{user: user});\r\n    return { pageProps }\r\n  }\r\n\r\n  render() {\r\n    const { Component, pageProps} = this.props;\r\n    if (!Validator.isBlank(pageProps.statusCode) && pageProps.statusCode !== 200) {\r\n      return <ErrorMainPage statusCode={pageProps.statusCode}/>;\r\n    }\r\n    return (\r\n      <>\r\n        <Component {...pageProps}/>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withGA(googleAnalyticsCode, Router)(MyApp);\r\n\r\n"]},"metadata":{},"sourceType":"module"}