{"ast":null,"code":"import _parseFloat from \"@babel/runtime-corejs2/core-js/parse-float\";\nimport _slicedToArray from \"@babel/runtime-corejs2/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\manh nhan\\\\Desktop\\\\new_ndm\\\\components\\\\PageDetail\\\\PageDetailInfo.tsx\";\nvar __jsx = React.createElement;\nimport React, { useEffect } from \"react\";\nimport { withScriptjs, withGoogleMap, GoogleMap, Marker } from \"react-google-maps\";\nimport StringProcess from '../../modules/stringProcess';\nimport LocationImage from '../../modules/locationImage';\nimport UrlProcess from \"../../modules/urlProcess\";\nimport AslInfo from \"../AdSellLeases/AslInfo\";\nimport validator from \"../../modules/validator\";\nimport Tracking from \"../../modules/AdSellLease/Tracking\";\n\nvar PageDetailInfo = function PageDetailInfo(props) {\n  var latValue = '';\n  var lngValue = '';\n\n  if (props.dataObject && props.dataObject.map) {\n    latValue = props.dataObject.map.lat;\n    lngValue = props.dataObject.map.lng;\n  }\n\n  if (props.dataObject && props.dataObject.google_map_latitude && props.dataObject.google_map_longitude) {\n    latValue = props.dataObject.google_map_latitude;\n    lngValue = props.dataObject.google_map_longitude;\n  }\n\n  if (!latValue || !lngValue || latValue === '0' || lngValue === '0') {\n    latValue = '20.9709496';\n    lngValue = '105.7531617';\n  }\n\n  var handleTracking = function handleTracking(type) {\n    var addSellLeaseId = props.dataObject.id;\n\n    if (addSellLeaseId && !validator.isBlank(addSellLeaseId) && props.type === 'ad_sell_lease') {\n      Tracking.addTracking(String(addSellLeaseId), type);\n    }\n  };\n\n  var iconMarkerDefault = LocationImage.locationImage(null);\n\n  var _React$useState = React.useState(iconMarkerDefault),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      iconMarker = _React$useState2[0],\n      setIconMarker = _React$useState2[1]; //Count Ad Sell Lease\n\n\n  useEffect(function () {\n    var toDataURL = function toDataURL(url, callback) {\n      var xhr = new XMLHttpRequest();\n\n      xhr.onload = function () {\n        var reader = new FileReader();\n\n        reader.onloadend = function () {\n          callback(reader.result);\n        };\n\n        reader.readAsDataURL(xhr.response);\n      };\n\n      xhr.open('GET', url);\n      xhr.responseType = 'blob';\n      xhr.send();\n    };\n\n    var brokerAvatar = UrlProcess.processImageUrl('', 'broker');\n\n    if (props.dataObject && props.dataObject.contact && props.dataObject.contact.image) {\n      brokerAvatar = UrlProcess.processImageUrl(props.dataObject.contact.image, 'broker');\n    }\n\n    toDataURL(brokerAvatar, function (dataUrl) {\n      setIconMarker(LocationImage.locationImage(dataUrl));\n    });\n  }, []);\n  var MyMapComponent = withScriptjs(withGoogleMap(function (props) {\n    return __jsx(GoogleMap, {\n      defaultZoom: 13,\n      defaultCenter: {\n        lat: _parseFloat(latValue),\n        lng: _parseFloat(lngValue)\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, props.isMarkerShown && __jsx(Marker, {\n      icon: iconMarker,\n      position: {\n        lat: _parseFloat(latValue),\n        lng: _parseFloat(lngValue)\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }));\n  }));\n\n  var freshText = function freshText(input) {\n    input = StringProcess.stripProperties(input, ['href', 'src', 'rel']);\n    input = StringProcess.stripTags(input, '<a><br/><br><img><p><h1><h2><h3><h4><h5><u><img><video><audio><li><ul><table><tr><td><sup><sub>');\n    input = input.replace(/https:\\/\\/nhadatmoi.net\\/data/g, 'https://static.nhadatmoi.net/data');\n    input = input.replace(/&nbsp;/g, ' ');\n    return input;\n  };\n\n  console.log(\">>>>>>>>>>>>>>\", props.dataObject.infrastructure_content);\n  var description = freshText(String(props.dataObject.description));\n  var positionContent = freshText(String(props.dataObject.infrastructure_content));\n  var infrastructureContent = freshText(String(props.dataObject.infrastructure_content)); // @ts-ignore\n\n  return __jsx(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    className: \"project-info\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93\n    },\n    __self: this\n  }, __jsx(\"h2\", {\n    className: \"project-info-title text-active u-margin-bottom-small\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94\n    },\n    __self: this\n  }, \"Th\\xF4ng tin t\\u1ED5ng quan\"), __jsx(AslInfo, {\n    dataObject: props.dataObject,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96\n    },\n    __self: this\n  }), __jsx(\"h2\", {\n    className: \"project-info-title text-active u-margin-bottom-small\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97\n    },\n    __self: this\n  }, \"M\\xF4 t\\u1EA3\"), __jsx(\"div\", {\n    className: \"project-info__description u-margin-bottom-medium\",\n    dangerouslySetInnerHTML: {\n      __html: description\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98\n    },\n    __self: this\n  }), props.dataObject.position_content && __jsx(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101\n    },\n    __self: this\n  }, __jsx(\"h3\", {\n    className: \"project-info-title text-active u-margin-bottom-small\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102\n    },\n    __self: this\n  }, \"V\\u1ECB tr\\xED\"), __jsx(\"div\", {\n    className: \"project-info__description u-margin-bottom-medium\",\n    dangerouslySetInnerHTML: {\n      __html: positionContent\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103\n    },\n    __self: this\n  })), props.dataObject.infrastructure_content && __jsx(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109\n    },\n    __self: this\n  }, __jsx(\"h3\", {\n    className: \"project-info-title text-active u-margin-bottom-small\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110\n    },\n    __self: this\n  }, \"H\\u1EA1 t\\u1EA7ng\"), __jsx(\"div\", {\n    className: \"project-info__description u-margin-bottom-medium\",\n    dangerouslySetInnerHTML: {\n      __html: infrastructureContent\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111\n    },\n    __self: this\n  })), __jsx(\"h2\", {\n    className: \"project-info-title text-active u-margin-bottom-small\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115\n    },\n    __self: this\n  }, \"B\\u1EA3n \\u0111\\u1ED3\"), __jsx(\"div\", {\n    className: \"project-info__maps\",\n    onClick: function onClick() {\n      return handleTracking('map_click');\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116\n    },\n    __self: this\n  }, __jsx(MyMapComponent, {\n    isMarkerShown: true,\n    googleMapURL: \"https://maps.googleapis.com/maps/api/js?v=3.exp&libraries=geometry,drawing,places&key=AIzaSyDNrtz4-o2IbVO8s7qQKOxq49AiX-gCXCE\",\n    loadingElement: __jsx(\"div\", {\n      style: {\n        height: \"100%\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }),\n    containerElement: __jsx(\"div\", {\n      style: {\n        height: \"400px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }),\n    mapElement: __jsx(\"div\", {\n      style: {\n        height: \"100%\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118\n    },\n    __self: this\n  }))));\n};\n\nexport default PageDetailInfo;","map":{"version":3,"sources":["C:/Users/manh nhan/Desktop/new_ndm/components/PageDetail/PageDetailInfo.tsx"],"names":["React","useEffect","withScriptjs","withGoogleMap","GoogleMap","Marker","StringProcess","LocationImage","UrlProcess","AslInfo","validator","Tracking","PageDetailInfo","props","latValue","lngValue","dataObject","map","lat","lng","google_map_latitude","google_map_longitude","handleTracking","type","addSellLeaseId","id","isBlank","addTracking","String","iconMarkerDefault","locationImage","useState","iconMarker","setIconMarker","toDataURL","url","callback","xhr","XMLHttpRequest","onload","reader","FileReader","onloadend","result","readAsDataURL","response","open","responseType","send","brokerAvatar","processImageUrl","contact","image","dataUrl","MyMapComponent","isMarkerShown","freshText","input","stripProperties","stripTags","replace","console","log","infrastructure_content","description","positionContent","infrastructureContent","__html","position_content","height"],"mappings":"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","sourcesContent":["import React, {FunctionComponent, useEffect} from \"react\";\r\nimport { withScriptjs, withGoogleMap, GoogleMap, Marker } from \"react-google-maps\";\r\nimport StringProcess from '../../modules/stringProcess';\r\nimport LocationImage from '../../modules/locationImage';\r\nimport UrlProcess from \"../../modules/urlProcess\";\r\nimport AslInfo from \"../AdSellLeases/AslInfo\";\r\nimport {AdSellLeaseItem} from '../../interfaces/adSellLeaseItem';\r\nimport validator from \"../../modules/validator\";\r\nimport Tracking from \"../../modules/AdSellLease/Tracking\";\r\n\r\ninterface ProjectMainProps {\r\n  dataObject: AdSellLeaseItem,\r\n  type: string\r\n}\r\n\r\nconst PageDetailInfo: FunctionComponent<ProjectMainProps> = (props: ProjectMainProps) => {\r\n  let latValue = '';\r\n  let lngValue = '';\r\n  if (props.dataObject && props.dataObject.map) {\r\n    latValue = props.dataObject.map.lat;\r\n    lngValue = props.dataObject.map.lng;\r\n  }\r\n\r\n  if (props.dataObject && props.dataObject.google_map_latitude && props.dataObject.google_map_longitude) {\r\n    latValue = props.dataObject.google_map_latitude;\r\n    lngValue = props.dataObject.google_map_longitude;\r\n  }\r\n\r\n  if (!latValue || !lngValue || latValue === '0' || lngValue === '0') {\r\n    latValue = '20.9709496';\r\n    lngValue = '105.7531617';\r\n  }\r\n\r\n  const handleTracking = (type: string) => {\r\n    let addSellLeaseId = props.dataObject.id;\r\n    if (addSellLeaseId && !validator.isBlank(addSellLeaseId) && props.type === 'ad_sell_lease') {\r\n      Tracking.addTracking(String(addSellLeaseId), type);\r\n    }\r\n  };\r\n\r\n  let iconMarkerDefault = LocationImage.locationImage(null);\r\n  const [iconMarker, setIconMarker] = React.useState(iconMarkerDefault);\r\n\r\n  //Count Ad Sell Lease\r\n  useEffect(() => {\r\n    const toDataURL = (url:string, callback: any) => {\r\n      let xhr = new XMLHttpRequest();\r\n      xhr.onload = function() {\r\n        let reader = new FileReader();\r\n        reader.onloadend = function() {\r\n          callback(reader.result);\r\n        };\r\n        reader.readAsDataURL(xhr.response);\r\n      };\r\n      xhr.open('GET', url);\r\n      xhr.responseType = 'blob';\r\n      xhr.send();\r\n    };\r\n\r\n    let brokerAvatar = UrlProcess.processImageUrl('', 'broker');\r\n    if (props.dataObject && props.dataObject.contact && props.dataObject.contact.image) {\r\n      brokerAvatar = UrlProcess.processImageUrl(props.dataObject.contact.image, 'broker');\r\n    }\r\n    toDataURL(brokerAvatar, function(dataUrl: string) {\r\n      setIconMarker(LocationImage.locationImage(dataUrl));\r\n    });\r\n  }, []);\r\n\r\n\r\n  const MyMapComponent = withScriptjs(withGoogleMap((props: {isMarkerShown: any; googleMapURL: string}) =>\r\n    <GoogleMap\r\n      defaultZoom={13}\r\n      defaultCenter={{ lat: parseFloat(latValue), lng: parseFloat(lngValue) }}\r\n    >\r\n      {props.isMarkerShown && <Marker icon={iconMarker} position={{ lat: parseFloat(latValue), lng: parseFloat(lngValue) }} />}\r\n    </GoogleMap>\r\n  ));\r\n\r\n  const freshText = (input: string) => {\r\n    input = StringProcess.stripProperties(input, ['href', 'src', 'rel']);\r\n    input = StringProcess.stripTags(input, '<a><br/><br><img><p><h1><h2><h3><h4><h5><u><img><video><audio><li><ul><table><tr><td><sup><sub>');\r\n    input = input.replace(/https:\\/\\/nhadatmoi.net\\/data/g, 'https://static.nhadatmoi.net/data');\r\n    input = input.replace(/&nbsp;/g, ' ');\r\n    return input;\r\n  };\r\n  console.log(\">>>>>>>>>>>>>>\", props.dataObject.infrastructure_content)\r\n  let description = freshText(String(props.dataObject.description));\r\n  let positionContent = freshText(String(props.dataObject.infrastructure_content));\r\n  let infrastructureContent = freshText(String(props.dataObject.infrastructure_content));\r\n  // @ts-ignore\r\n  return (\r\n    <div>\r\n      <div className=\"project-info\">\r\n        <h2 className=\"project-info-title text-active u-margin-bottom-small\">Thông tin tổng quan</h2>\r\n\r\n        <AslInfo dataObject={props.dataObject}/>\r\n        <h2 className=\"project-info-title text-active u-margin-bottom-small\">Mô tả</h2>\r\n        <div className=\"project-info__description u-margin-bottom-medium\" dangerouslySetInnerHTML={{__html: description}} />\r\n        {\r\n          props.dataObject.position_content &&\r\n            <div>\r\n              <h3 className=\"project-info-title text-active u-margin-bottom-small\">Vị trí</h3>\r\n              <div className=\"project-info__description u-margin-bottom-medium\" dangerouslySetInnerHTML={{__html: positionContent}} />\r\n            </div>\r\n        }\r\n\r\n        {\r\n          props.dataObject.infrastructure_content &&\r\n          <div>\r\n            <h3 className=\"project-info-title text-active u-margin-bottom-small\">Hạ tầng</h3>\r\n            <div className=\"project-info__description u-margin-bottom-medium\" dangerouslySetInnerHTML={{__html: infrastructureContent}} />\r\n          </div>\r\n        }\r\n\r\n        <h2 className=\"project-info-title text-active u-margin-bottom-small\">Bản đồ</h2>\r\n        <div className=\"project-info__maps\" onClick={() => handleTracking('map_click')}>\r\n\r\n          <MyMapComponent\r\n            isMarkerShown={true}\r\n            googleMapURL=\"https://maps.googleapis.com/maps/api/js?v=3.exp&libraries=geometry,drawing,places&key=AIzaSyDNrtz4-o2IbVO8s7qQKOxq49AiX-gCXCE\"\r\n            loadingElement={<div style={{ height: `100%` }} />}\r\n            containerElement={<div style={{ height: `400px` }} />}\r\n            mapElement={<div style={{ height: `100%` }} />}/>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nexport default PageDetailInfo;\r\n"]},"metadata":{},"sourceType":"module"}