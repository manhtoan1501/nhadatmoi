{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\manh nhan\\\\Desktop\\\\Nhadatmoi\\\\components\\\\AdSellLeases\\\\BelongProject.tsx\";\nvar __jsx = React.createElement;\nimport React, { useEffect } from \"react\";\nimport { apolloClient } from \"../../utils\";\nimport { GET_PROJECT_BY_ID } from \"../../graphql/project/queries\";\nimport Validator from \"../../modules/validator\";\nimport StringProcess from \"../../modules/stringProcess\";\nimport Button from '@material-ui/core/Button';\nimport MapIcon from \"@material-ui/icons/PinDrop\";\nimport FullScreenIcon from \"@material-ui/icons/Fullscreen\";\nimport Link from \"next/link\";\n\nconst BelongProject = props => {\n  let projectId = props.project;\n  let projectDefault = {\n    id: '',\n    name: '',\n    scale: '',\n    investor: '',\n    slug: '',\n    address: {\n      text: '',\n      ward: '',\n      district: '',\n      city: ''\n    },\n    intro_content: '',\n    cover_image: '',\n    seo_description: '',\n    created_at: '',\n    updated_at: ''\n  };\n  const [projectData, setProject] = React.useState(projectDefault);\n  useEffect(() => {\n    apolloClient.query({\n      query: GET_PROJECT_BY_ID,\n      variables: {\n        \"id\": projectId\n      }\n    }).then(response => {\n      if (typeof response.data.project !== \"undefined\") {\n        setProject(response.data.project);\n      }\n    });\n  });\n\n  if (projectData && !Validator.isBlank(projectData.id)) {\n    const freshText = input => {\n      input = StringProcess.stripProperties(input, []);\n      input = StringProcess.stripTags(input, '');\n      input = input.replace(/&nbsp;/g, ' ');\n      return input;\n    };\n\n    const convertDescription = input => {\n      return input.replace(/&#(\\d+);/g, function (match, dec) {\n        return String.fromCharCode(dec);\n      });\n    };\n\n    let projectDescription = projectData.seo_description;\n\n    if (projectDescription === '' || !projectDescription) {\n      projectDescription = freshText(projectData.intro_content);\n      projectDescription = convertDescription(projectDescription);\n      projectDescription = StringProcess.truncateString(projectDescription, 255, '...');\n    }\n\n    return __jsx(\"div\", {\n      className: \"project-info\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 7\n      }\n    }, __jsx(\"h2\", {\n      className: \"project-info-title text-active u-margin-bottom-small\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }\n    }, \"Th\\xF4ng tin d\\u1EF1 \\xE1n\"), __jsx(Link, {\n      href: \"/du-an/[slug]\",\n      as: '/du-an/' + projectData.slug,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }\n    }, __jsx(\"a\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 70\n      }\n    }, __jsx(\"div\", {\n      className: 'project-info__belong_project',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 11\n      }\n    }, __jsx(\"div\", {\n      className: 'project-info__belong_project__avatar',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 13\n      }\n    }, __jsx(\"img\", {\n      src: projectData.cover_image,\n      alt: projectData.name,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 15\n      }\n    })), __jsx(\"div\", {\n      className: 'project-info__belong_project__title',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 13\n      }\n    }, __jsx(\"div\", {\n      className: 'project-info__belong_project__title__name',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 15\n      }\n    }, projectData.name), __jsx(\"div\", {\n      className: 'project-info__belong_project__title__description',\n      dangerouslySetInnerHTML: {\n        __html: projectDescription\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 15\n      }\n    }), __jsx(\"div\", {\n      className: 'project-info__belong_project__title__description',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 15\n      }\n    }, __jsx(\"p\", {\n      className: 'project-info__belong_project__title__description__detail',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 17\n      }\n    }, __jsx(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 19\n      }\n    }, __jsx(MapIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 22\n      }\n    }), \" \\u0110\\u1ECBa ch\\u1EC9: \", projectData.address.text)), __jsx(\"p\", {\n      className: 'project-info__belong_project__title__description__detail',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 17\n      }\n    }, __jsx(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 19\n      }\n    }, __jsx(FullScreenIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 22\n      }\n    }), \" Quy m\\xF4: \", projectData.scale))), __jsx(\"div\", {\n      className: 'project-info__belong_project__title__button',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 15\n      }\n    }, __jsx(Button, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 17\n      }\n    }, \"Truy c\\u1EADp d\\u1EF1 \\xE1n\")))))));\n  } else {\n    return __jsx(React.Fragment, null);\n  }\n};\n\nexport default BelongProject;","map":{"version":3,"sources":["C:/Users/manh nhan/Desktop/Nhadatmoi/components/AdSellLeases/BelongProject.tsx"],"names":["React","useEffect","apolloClient","GET_PROJECT_BY_ID","Validator","StringProcess","Button","MapIcon","FullScreenIcon","Link","BelongProject","props","projectId","project","projectDefault","id","name","scale","investor","slug","address","text","ward","district","city","intro_content","cover_image","seo_description","created_at","updated_at","projectData","setProject","useState","query","variables","then","response","data","isBlank","freshText","input","stripProperties","stripTags","replace","convertDescription","match","dec","String","fromCharCode","projectDescription","truncateString","__html"],"mappings":"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","sourcesContent":["import React, {FunctionComponent, useEffect} from \"react\";\r\nimport {apolloClient} from \"../../utils\";\r\nimport {GET_PROJECT_BY_ID} from \"../../graphql/project/queries\";\r\nimport Validator from \"../../modules/validator\";\r\nimport StringProcess from \"../../modules/stringProcess\";\r\nimport Button from '@material-ui/core/Button';\r\nimport MapIcon from \"@material-ui/icons/PinDrop\";\r\nimport FullScreenIcon from \"@material-ui/icons/Fullscreen\";\r\nimport Link from \"next/link\";\r\n\r\ninterface BelongProjectProps {\r\n  project: string\r\n}\r\n\r\nconst BelongProject: FunctionComponent<BelongProjectProps> = (props: BelongProjectProps) => {\r\n  let projectId = props.project;\r\n  let projectDefault = {\r\n    id: '',\r\n    name: '',\r\n    scale: '',\r\n    investor: '',\r\n    slug: '',\r\n    address: {\r\n      text: '',\r\n      ward: '',\r\n      district: '',\r\n      city: '',\r\n    },\r\n    intro_content: '',\r\n    cover_image: '',\r\n    seo_description: '',\r\n    created_at: '',\r\n    updated_at: ''\r\n  };\r\n  const [projectData, setProject] = React.useState(projectDefault);\r\n  useEffect(() => {\r\n    apolloClient.query({\r\n      query: GET_PROJECT_BY_ID, variables: {\r\n        \"id\": projectId\r\n      }\r\n    }).then(response => {\r\n      if (typeof response.data.project !== \"undefined\") {\r\n        setProject(response.data.project);\r\n      }\r\n    });\r\n  });\r\n\r\n  if (projectData && !Validator.isBlank(projectData.id)) {\r\n    const freshText = (input: string) => {\r\n      input = StringProcess.stripProperties(input, []);\r\n      input = StringProcess.stripTags(input, '');\r\n      input = input.replace(/&nbsp;/g, ' ');\r\n      return input;\r\n    };\r\n    const convertDescription = (input: string) => {\r\n      return input.replace(/&#(\\d+);/g, function(match, dec) {\r\n        return String.fromCharCode(dec);\r\n      });\r\n    };\r\n\r\n    let projectDescription = projectData.seo_description;\r\n\r\n    if (projectDescription === '' || !projectDescription) {\r\n      projectDescription = freshText(projectData.intro_content);\r\n      projectDescription = convertDescription(projectDescription);\r\n      projectDescription = StringProcess.truncateString(projectDescription, 255, '...');\r\n    }\r\n    return (\r\n      <div className=\"project-info\">\r\n        <h2 className=\"project-info-title text-active u-margin-bottom-small\">Thông tin dự án</h2>\r\n        <Link href='/du-an/[slug]' as={'/du-an/' + projectData.slug}><a>\r\n          <div className={'project-info__belong_project'}>\r\n            <div className={'project-info__belong_project__avatar'}>\r\n              <img src={projectData.cover_image} alt={projectData.name}/>\r\n            </div>\r\n            <div className={'project-info__belong_project__title'}>\r\n              <div className={'project-info__belong_project__title__name'}>\r\n                {projectData.name}\r\n              </div>\r\n              <div className={'project-info__belong_project__title__description'} dangerouslySetInnerHTML={{__html: projectDescription}}>\r\n              </div>\r\n              <div className={'project-info__belong_project__title__description'}>\r\n                <p className={'project-info__belong_project__title__description__detail'}>\r\n                  <b><MapIcon/> Địa chỉ: {projectData.address.text}</b>\r\n                </p>\r\n                <p className={'project-info__belong_project__title__description__detail'}>\r\n                  <b><FullScreenIcon/> Quy mô: {projectData.scale}</b>\r\n                </p>\r\n              </div>\r\n              <div className={'project-info__belong_project__title__button'}>\r\n                <Button>Truy cập dự án</Button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </a>\r\n        </Link>\r\n\r\n      </div>\r\n    );\r\n  } else {\r\n    return (<></>);\r\n  }\r\n};\r\n\r\nexport default BelongProject;\r\n"]},"metadata":{},"sourceType":"module"}