{"ast":null,"code":"import _JSON$stringify from \"@babel/runtime-corejs2/core-js/json/stringify\";\nimport _slicedToArray from \"@babel/runtime-corejs2/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\manh nhan\\\\Desktop\\\\data\\\\chat\\\\components\\\\AdSellLeases\\\\RelatedAdSellLeases.tsx\";\nvar __jsx = React.createElement;\nimport React, { useEffect } from \"react\";\nimport { apolloClient } from \"../../utils\";\nimport { GET_AD_SELL_LEASES } from \"../../graphql/ad_sell_leases/queries\";\nimport Validator from \"../../modules/validator\";\nimport GridAdSellLeases from \"../GridList/GridAdSellLeases\";\n\nvar RelatedAdSellLeases = function RelatedAdSellLeases(props) {\n  var districtId = props.address.district;\n  var cityId = props.address.city;\n  var filterObject = {\n    district: districtId,\n    city: cityId\n  };\n  var currentASLId = props.dataObject.id; //Search Data AdsellLease\n\n  var _React$useState = React.useState([]),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      searchDataAdSellLease = _React$useState2[0],\n      setSearchDataAdSellLease = _React$useState2[1];\n\n  useEffect(function () {\n    var dataFilter = _JSON$stringify(filterObject);\n\n    dataFilter = dataFilter.split('\"').join(\"'\");\n    apolloClient.query({\n      query: GET_AD_SELL_LEASES,\n      variables: {\n        \"page\": 1,\n        \"limit\": 7,\n        \"filter\": dataFilter\n      }\n    }).then(function (response) {\n      if (!Validator.isBlank(response.data) && !Validator.isBlank(response.data.adSellLeases.edges)) {\n        var dataASL = [];\n        var countNumber = 0;\n\n        for (var index in response.data.adSellLeases.edges) {\n          if (response.data.adSellLeases.edges[index].node.id !== currentASLId && countNumber < 6) {\n            dataASL.push(response.data.adSellLeases.edges[index]);\n            countNumber++;\n          }\n        }\n\n        setSearchDataAdSellLease(dataASL);\n      }\n    });\n  }, []);\n\n  if (searchDataAdSellLease && searchDataAdSellLease.length > 0) {\n    return __jsx(React.Fragment, null, __jsx(\"div\", {\n      className: \"project-info\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, __jsx(\"h2\", {\n      className: \"project-info-title text-active u-margin-bottom-small\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, \"Tin \", props.type2Name.toLowerCase(), \" c\\xF9ng khu v\\u1EF1c\")), __jsx(\"div\", {\n      className: 'project-body-ad-sell-lease',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, __jsx(GridAdSellLeases, {\n      grid: {\n        xl: 3,\n        lg: 4,\n        md: 6,\n        sm: 6,\n        xs: 12\n      },\n      gridData: searchDataAdSellLease,\n      className: \"grid__list\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    })));\n  } else {\n    return __jsx(React.Fragment, null);\n  }\n};\n\nexport default RelatedAdSellLeases;","map":{"version":3,"sources":["C:/Users/manh nhan/Desktop/data/chat/components/AdSellLeases/RelatedAdSellLeases.tsx"],"names":["React","useEffect","apolloClient","GET_AD_SELL_LEASES","Validator","GridAdSellLeases","RelatedAdSellLeases","props","districtId","address","district","cityId","city","filterObject","currentASLId","dataObject","id","useState","searchDataAdSellLease","setSearchDataAdSellLease","dataFilter","split","join","query","variables","then","response","isBlank","data","adSellLeases","edges","dataASL","countNumber","index","node","push","length","type2Name","toLowerCase","xl","lg","md","sm","xs"],"mappings":"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","sourcesContent":["import React, {FunctionComponent, useEffect} from \"react\";\r\nimport {apolloClient} from \"../../utils\";\r\nimport {GET_AD_SELL_LEASES} from \"../../graphql/ad_sell_leases/queries\";\r\nimport Validator from \"../../modules/validator\";\r\nimport GridAdSellLeases from \"../GridList/GridAdSellLeases\";\r\nimport {AdSellLeasesListProps} from '../../interfaces/interface';\r\nimport {AdSellLeaseItem} from '../../interfaces/adSellLeaseItem';\r\n\r\ninterface ProjectProps {\r\n  address: {\r\n    text: string,\r\n    ward: string,\r\n    district: string,\r\n    city: string\r\n  }\r\n  type2Name: string\r\n  dataObject: AdSellLeaseItem\r\n}\r\n\r\nconst RelatedAdSellLeases: FunctionComponent<ProjectProps> = (props: ProjectProps) => {\r\n  let districtId = props.address.district;\r\n  let cityId = props.address.city;\r\n  let filterObject =  {\r\n    district: districtId,\r\n    city: cityId\r\n  };\r\n  let currentASLId = props.dataObject.id;\r\n  //Search Data AdsellLease\r\n  const [searchDataAdSellLease, setSearchDataAdSellLease] = React.useState<AdSellLeasesListProps[]>([]);\r\n  useEffect(() => {\r\n    let dataFilter = JSON.stringify(filterObject);\r\n    dataFilter = dataFilter.split('\"').join(\"'\");\r\n    apolloClient.query({query: GET_AD_SELL_LEASES, variables: {\r\n        \"page\": 1,\r\n        \"limit\": 7,\r\n        \"filter\": dataFilter\r\n      }}).then(response => {\r\n      if (!Validator.isBlank(response.data) && !Validator.isBlank(response.data.adSellLeases.edges)) {\r\n        let dataASL = [];\r\n        let countNumber = 0;\r\n        for (let index in response.data.adSellLeases.edges) {\r\n          if (response.data.adSellLeases.edges[index].node.id !== currentASLId && countNumber < 6) {\r\n            dataASL.push(response.data.adSellLeases.edges[index]);\r\n            countNumber++;\r\n          }\r\n        }\r\n        setSearchDataAdSellLease(dataASL);\r\n      }\r\n    });\r\n  }, []);\r\n\r\n  if (searchDataAdSellLease && searchDataAdSellLease.length > 0) {\r\n    return (\r\n      <>\r\n        <div className=\"project-info\">\r\n          <h2 className=\"project-info-title text-active u-margin-bottom-small\">Tin {(props.type2Name).toLowerCase()} cùng khu vực</h2>\r\n        </div>\r\n        <div className={'project-body-ad-sell-lease'}>\r\n          <GridAdSellLeases\r\n            grid={{xl: 3, lg: 4, md: 6, sm: 6, xs: 12}}\r\n            gridData={searchDataAdSellLease}\r\n            className=\"grid__list\"\r\n          />\r\n        </div>\r\n      </>\r\n    );\r\n  } else {\r\n    return (<></>);\r\n  }\r\n\r\n};\r\n\r\nexport default RelatedAdSellLeases;\r\n"]},"metadata":{},"sourceType":"module"}